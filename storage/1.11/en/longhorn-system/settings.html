<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Settings :: Rancher product documentation</title>
    <link rel="canonical" href="https://documentation.suse.com/cloudnative/storage/latest/en/longhorn-system/settings.html">
    <link rel="prev" href="customize-default-settings.html">
    <link rel="next" href="v2-data-engine/features/features.html">
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../../../../_/css/site.css">
<meta http-equiv="last-modified" content="2025-09-16"/>
<link rel="stylesheet" href="../../../../_/css/search.css">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="../../../../_/css/font-styles.css">
<link rel="stylesheet" href="../../../../_/fonts/css/all.css">
<link rel="stylesheet" href="../../../../_/css/site-extra.css">
<link rel="stylesheet" href="../../../../_/css/vendor/tabs.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=SUSE:wght@100..800&display=swap&family=SUSE+Mono:ital,wght@0,100..800;1,100..800" rel="stylesheet">
<link href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" rel="stylesheet">
<!-- <link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto&display=swap" rel="stylesheet"> -->
<link rel="stylesheet" href="../../../../_/css/vendor/light.css">
<script src="/docserv/res/lightheaded/analytics.js" type="text/javascript"></script>

<script type="module">
  import { defineCustomElements, setAssetPath } from 'https://d12w0ryu9hjsx8.cloudfront.net/shared-header/1.5/shared-header.esm.js';
  defineCustomElements();
  setAssetPath("https://d12w0ryu9hjsx8.cloudfront.net/shared-header/1.5/assets");
</script>    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs'; mermaid.initialize({"startOnLoad":true});</script><!-- Canonical link -->
<link href="https://documentation.suse.com/cloudnative/storage/latest/en/longhorn-system/settings.html" rel="canonical"/>

<!-- Default English link -->
<link href="https://documentation.suse.com/cloudnative/storage/1.11/en/longhorn-system/settings.html" hreflang="x-default" rel="alternate"/>

<!-- Link for the currently processed page -->
<link href="https://documentation.suse.com/cloudnative/storage/1.11/en/longhorn-system/settings.html" hrefLang="en-US" rel="alternate" />











<shared-header language="en" languages='{
"en": { "label": "English", "url": "https://documentation.suse.com/en-us/" },
"de": { "label": "Deutsch", "url": "https://documentation.suse.com/de-de/" },
"fr": { "label": "Français", "url": "https://documentation.suse.com/fr-fr/" },
"es": { "label": "Español", "url": "https://documentation.suse.com/es-es/" },
"zh_CN": { "label": "中文", "url": "https://documentation.suse.com/zh-cn/" },
"pt_BR": { "label": "Português Brasileiro", "url": "https://documentation.suse.com/pt-br/" }
}'>
</shared-header>

<!-- Leaving as a comment, I expect it will be required again next year.
<a target=_blank"" class="survey-link" href="https://suselinux.fra1.qualtrics.com/jfe/form/SV_bEiGZbUNzLD8Tcy"> Documentation survey </a>
--><div class="body">
<div class="nav-container" data-component="storage" data-version="1.11">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title">SUSE® Storage</h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../longhorn-documentation.html">SUSE® Storage Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../introduction/introduction.html">Introduction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/concepts.html">Architecture and Concepts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/terminology.html">Terminology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/document-conventions.html">Document Conventions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../important-notes.html">Important Notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Installation and Setup</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation-setup/requirements.html">Requirements</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation-setup/best-practices.html">Best Practices</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../installation-setup/installation/installation.html">Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation-setup/installation/install-using-argocd.html">Install SUSE Storage Using ArgoCD</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation-setup/installation/install-using-fleet.html">Install SUSE Storage Using Fleet</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation-setup/installation/install-using-flux.html">Install SUSE® Storage Using Flux</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation-setup/installation/install-using-helm.html">Install SUSE Storage Using Helm</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation-setup/installation/install-using-helm-controller.html">Install SUSE Storage Using Helm Controller</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation-setup/installation/helm-values.html">Helm Values</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation-setup/installation/install-using-kubectl.html">Install SUSE Storage Using Kubectl</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation-setup/installation/install-using-rancher.html">Install SUSE Storage Using Rancher</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation-setup/installation/rancher-windows-cluster.html">Rancher Windows Cluster</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation-setup/installation/airgapped-environment.html">Install SUSE Storage in an Air-Gapped Environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Operating System and Distribution Configuration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation-setup/os-distro/container-optimized-os.html">Container-Optimized OS (COS)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation-setup/os-distro/gke.html">Google Kubernetes Engine (GKE)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation-setup/os-distro/k3s.html">K3s</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation-setup/os-distro/ocp-okd.html">Red Hat OpenShift Container Platform and OKD</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation-setup/os-distro/rke-coreos.html">RKE and CoreOS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation-setup/os-distro/talos-linux.html">Talos Linux</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation-setup/setup-performance-scalability-sizing-guidelines.html">Setup, Performance, Scalability, and Sizing Guidelines</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation-setup/uninstallation.html">Uninstallation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../upgrades/upgrades.html">Upgrades</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Component Upgrades</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../upgrades/longhorn-components/auto-upgrade-engine.html">Automatically Upgrade the Longhorn Engine</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../upgrades/longhorn-components/manually-upgrade-engine.html">Manually Upgrade the Longhorn Engine</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../upgrades/longhorn-components/upgrade-longhorn-manager.html">Upgrade Longhorn Manager</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Kubernetes Upgrades</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../upgrades/kubernetes/upgrade-k8s-on-aks.html">Upgrade Kubernetes on Azure Kubernetes Service (AKS)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../upgrades/kubernetes/upgrade-k8s-on-eks.html">Upgrade Kubernetes on Amazon Elastic Kubernetes Service (Amazon EKS)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../upgrades/kubernetes/upgrade-k8s-on-gke.html">Upgrade Kubernetes on Google Kubernetes Engine (GKE)</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">SUSE® Storage System</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="system-access/system-access.html">System Access</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="system-access/longhorn-ui.html">Access the User Interface</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="system-access/create-ingress.html">Create an Ingress with Basic Authentication (nginx)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="system-access/longhorn-cli.html">Command Line Interface (CLI)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="system-access/install-longhorn-cli.html">Install the CLI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="system-access/longhorn-python-client.html">Python Client</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="networking/networking.html">Networking</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="networking/storage-network.html">Storage Network</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mtls-support.html">Mutual TLS (mTLS) Support</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="customize-default-settings.html">Customize Default Settings</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="settings.html">Settings</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">V2 Data Engine (Preview Feature)</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="v2-data-engine/features/features.html">V2 Data Engine Features</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="v2-data-engine/features/selective-engine-activation.html">Selective V2 Data Engine Activation</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="v2-data-engine/features/ublk-frontend-support.html">UBLK Frontend Support</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="v2-data-engine/features/node-disk-support.html">Node Disk Support</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="v2-data-engine/features/replica-rebuild-qos.html">Replica Rebuild QoS</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="v2-data-engine/features/interrupt-mode.html">Interrupt Mode</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="v2-data-engine/features/volume-expansion.html">Volume Expansion</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="v2-data-engine/features/volume-clone.html">Volume Clone</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="v2-data-engine/prerequisites.html">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="v2-data-engine/quick-start-guide.html">Quick Start Guide</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="v2-data-engine/performance.html">Performance</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="examples-resources.html">Examples of Kubernetes Resources that Use SUSE® Storage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="migrate-flexvolume.html">Migrate from the Flexvolume Driver to CSI</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Nodes</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../nodes/node-space-usage.html">Node Space Usage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../nodes/default-disk-and-node-config.html">Configure Default Node and Disk Settings</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../nodes/storage-tags.html">Storage Tags</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../nodes/multiple-disks.html">Multiple Disks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../nodes/disks-or-nodes-eviction.html">Evicting Replicas on Disabled Disks or Nodes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../nodes/scheduling.html">Scheduling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../nodes/node-conditions.html">Node Conditions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../nodes/node-selector.html">Node Selector</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../nodes/taints-tolerations.html">Taints and Tolerations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../nodes/priority-class.html">Priority Class</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Managed Kubernetes</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../nodes/managed-kubernetes/aks-managed-node-groups.html">Managed Node Groups on Azure Kubernetes Service (AKS)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../nodes/managed-kubernetes/eks-managed-node-pools.html">Managed Node Pools on Amazon Elastic Kubernetes Service (Amazon EKS)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../nodes/managed-kubernetes/gke-managed-node-pools.html">Managed Node Pools on Google Kubernetes Engine (GKE)</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Volumes</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../volumes/create-volumes.html">Create Volumes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../volumes/pvc-ownership-and-permission.html">PVC Ownership and Permission</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../volumes/rwx-volumes.html">ReadWriteMany (RWX) Volumes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../volumes/clone-volumes.html">Clone Volumes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../volumes/detach-volumes.html">Detach Volumes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../volumes/delete-volumes.html">Delete Volumes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../volumes/use-as-iscsi-target.html">Use a Volume as an iSCSI Target</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../volumes/identify-workloads.html">Identify Workloads that Use a Volume</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../volumes/volume-size.html">Volume Size</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../volumes/volume-expansion.html">Volume Expansion</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../volumes/volume-attachment.html">SUSE Storage VolumeAttachment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../volumes/trim-filesystem.html">Trim the Filesystem</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../volumes/volume-conditions.html">Volume Conditions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../volumes/volume-encryption.html">Volume Encryption</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../volumes/storageclass-parameters.html">StorageClass Parameters</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../volumes/backing-images/backing-images.html">Backing Images</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../volumes/backing-images/backing-image-encryption.html">Backing Image Encryption</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">High Availability</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../high-availability/automatic-replica-balancing.html">Automatic Replica Balancing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../high-availability/replica-rebuilding.html">Replica Rebuilding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../high-availability/fast-replica-rebuilding.html">Fast Replica Rebuilding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../high-availability/offline-replica-rebuilding.html">Offline Replica Rebuilding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../high-availability/revision_counter.html">Revision Counter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../high-availability/data-locality.html">Data Locality</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../high-availability/kubernetes-cluster-autoscaler.html">Kubernetes Cluster Autoscaler Support (Experimental)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../high-availability/rwx-volume-fast-failover.html">RWX Volume Fast Failover (Experimental)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../high-availability/volume-recovery.html">Volume Recovery</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../high-availability/node-failure.html">Node Failure Management</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Snapshots and Backups</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../snapshots-backups/volume-snapshots-backups/volume-snapshots-backups.html">Volume Snapshots and Backups</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../snapshots-backups/volume-snapshots-backups/create-snapshot.html">Create a Snapshot</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../snapshots-backups/volume-snapshots-backups/snapshot-space-management.html">Snapshot Space Management</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../snapshots-backups/volume-snapshots-backups/configure-backup-target.html">Configure a Backup Target</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../snapshots-backups/volume-snapshots-backups/create-backup.html">Create a Backup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../snapshots-backups/volume-snapshots-backups/sync-backup-volumes-manually.html">Manually Synchronize Backup Volumes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../snapshots-backups/volume-snapshots-backups/create-recurring-backup-snapshot-job.html">Create a Recurring Snapshot or Backup Job</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../snapshots-backups/volume-snapshots-backups/restore-volume-from-backup.html">Restore a Volume from a Backup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../snapshots-backups/volume-snapshots-backups/restore-recurring-job-from-backup.html">Restore a Recurring Job from a Backup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../snapshots-backups/volume-snapshots-backups/restore-volume-statefulset.html">Restore a Volume for a Kubernetes StatefulSet</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../snapshots-backups/csi-snapshots/csi-snapshots.html">CSI Snapshots</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../snapshots-backups/csi-snapshots/csi-snapshot-longhorn-backing-image.html">CSI Volume Snapshot Associated with a SUSE® Storage Backing Image</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../snapshots-backups/csi-snapshots/csi-snapshot-longhorn-backup.html">CSI Volume Snapshot Associated with a SUSE® Storage Backup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../snapshots-backups/csi-snapshots/csi-snapshot-longhorn-snapshot.html">CSI Volume Snapshot Associated with a SUSE® Storage Snapshot</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../snapshots-backups/csi-snapshots/enable-csi-snapshot-creation.html">Enable CSI Snapshot Creation on a Cluster</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <a class="nav-link" href="../snapshots-backups/system-backups/system-backups.html">SUSE® Storage System Backups</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../snapshots-backups/system-backups/restore-to-cluster-using-rancher-snapshot.html">Restore the SUSE® Storage System to a Cluster Using a Rancher Snapshot</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../snapshots-backups/system-backups/restore-to-new-cluster-using-velero.html">Restore the SUSE® Storage System to a New Cluster Using Velero</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../snapshots-backups/system-backups/create-system-backup.html">Create a SUSE Storage System Backup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../snapshots-backups/system-backups/restore-system.html">Restore the SUSE® Storage System</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../snapshots-backups/backing-image-backups.html">Backing Image Backup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../snapshots-backups/restore-cluster-rancher-snapshot.html">Restore a Cluster Using a Rancher Snapshot</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Data Integrity and Recovery</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-integrity-recovery/snapshot-data-integrity-check.html">Snapshot Data Integrity Check</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-integrity-recovery/orphaned-data-cleanup.html">Orphaned Data Cleanup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-integrity-recovery/orphaned-instance-cleanup.html">Orphaned Instance Cleanup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-integrity-recovery/disaster-recovery-volumes.html">Disaster Recovery Volumes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Data Recovery</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../data-integrity-recovery/data-recovery/identify-corrupted-replicas.html">Identify Corrupted Replicas</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../data-integrity-recovery/data-recovery/retrieve-volume-data-from-replica.html">Retrieve Volume Data from a Single Replica</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../data-integrity-recovery/data-recovery/recover-from-data-errors.html">Identify and Recover from Data Errors</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../data-integrity-recovery/data-recovery/recover-from-full-disk.html">Recover from a Full Disk</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../data-integrity-recovery/data-recovery/recover-without-system.html">Recover from a SUSE® Storage Backup without the System Installed</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Observability</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../observability/configure-prometheus-grafana.html">Configure Prometheus and Grafana to Monitor SUSE® Storage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../observability/alert-rule-examples.html">Alert Rule Examples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../observability/longhorn-metrics.html">SUSE® Storage Metrics for Monitoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../observability/integrate-with-rancher-monitoring.html">Integrate SUSE® Storage Metrics into the Rancher Monitoring System</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../observability/kubelet-volume-metrics.html">Kubelet Volume Metrics</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Troubleshooting and Maintenance</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../troubleshooting-maintenance/support-bundle.html">Support Bundle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../troubleshooting-maintenance/troubleshooting.html">Troubleshooting Problems</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../troubleshooting-maintenance/v2-data-engine-issues.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../troubleshooting-maintenance/maintenance.html">Node Maintenance and Kubernetes Upgrade Guide</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">SUSE® Storage</span>
    <span class="version">1.11 (Dev)</span>
  </div>
  <ul class="components">
        <li class="component">
          <div class="title"><a href="../../../../admission-controller/1.29/en/introduction.html">Admission Controller</a></div>
          <ul class="versions">
            <li class="version">
              <a href="../../../../admission-controller/1.30/en/introduction.html">1.30-next</a>
            </li>
            <li class="version is-latest">
              <a href="../../../../admission-controller/1.29/en/introduction.html">1.29</a>
            </li>
            <li class="version">
              <a href="../../../../admission-controller/1.28/en/introduction.html">1.28</a>
            </li>
            <li class="version">
              <a href="../../../../admission-controller/1.27/en/introduction.html">1.27</a>
            </li>
            <li class="version">
              <a href="../../../../admission-controller/1.26/en/introduction.html">1.26</a>
            </li>
            <li class="version">
              <a href="../../../../admission-controller/1.25/en/introduction.html">1.25</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../cluster-api/latest/en/index.html">Cluster API</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../cluster-api/latest/en/index.html">Latest</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.24/en/index.html">0.24</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.23/en/index.html">0.23</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.22/en/index.html">0.22</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.21/en/index.html">0.21</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.20/en/index.html">0.20</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.19/en/index.html">0.19</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.18/en/index.html">0.18</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.17/en/index.html">0.17</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.16/en/index.html">0.16</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.15/en/index.html">0.15</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.14/en/index.html">0.14</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.13/en/index.html">0.13</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.12/en/index.html">0.12</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.11/en/index.html">0.11</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../continuous-delivery/v0.12/en/index.html">Continuous Delivery</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../continuous-delivery/v0.12/en/index.html">0.12</a>
            </li>
            <li class="version">
              <a href="../../../../continuous-delivery/v0.11/en/index.html">0.11</a>
            </li>
            <li class="version">
              <a href="../../../../continuous-delivery/v0.10/en/index.html">0.10</a>
            </li>
            <li class="version">
              <a href="../../../../continuous-delivery/v0.9/en/index.html">0.9</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../k3s/latest/en/introduction.html">K3s</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../k3s/latest/en/introduction.html">Latest</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../os-manager/next/en/index.html">OS Manager</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../os-manager/next/en/index.html">Next</a>
            </li>
            <li class="version">
              <a href="../../../../os-manager/latest/en/index.html">Latest</a>
            </li>
            <li class="version">
              <a href="../../../../os-manager/1.7/en/index.html">1.7</a>
            </li>
            <li class="version">
              <a href="../../../../os-manager/1.6/en/index.html">1.6</a>
            </li>
            <li class="version">
              <a href="../../../../os-manager/1.5/en/index.html">1.5</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../rke2/latest/en/introduction.html">RKE2</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../rke2/latest/en/introduction.html">Latest</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../suse-observability/latest/en/classic.html">SUSE Observability</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../suse-observability/latest/en/classic.html">Latest</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../rancher-manager/latest/en/about-rancher/what-is-rancher.html">SUSE® Rancher Manager</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../rancher-manager/latest/en/about-rancher/what-is-rancher.html">latest</a>
            </li>
            <li class="version">
              <a href="../../../../rancher-manager/v2.12/en/about-rancher/what-is-rancher.html">v2.12</a>
            </li>
            <li class="version">
              <a href="../../../../rancher-manager/v2.11/en/about-rancher/what-is-rancher.html">v2.11</a>
            </li>
            <li class="version">
              <a href="../../../../rancher-manager/v2.10/en/about-rancher/what-is-rancher.html">v2.10</a>
            </li>
            <li class="version">
              <a href="../../../../rancher-manager/v2.9/en/about-rancher/what-is-rancher.html">v2.9</a>
            </li>
            <li class="version">
              <a href="../../../../rancher-manager/v2.8/en/about-rancher/what-is-rancher.html">v2.8</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../security/5.4/en/overview.html">SUSE® Security</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../security/5.4/en/overview.html">5.4</a>
            </li>
            <li class="version">
              <a href="../../../../security/5.3/en/overview.html">5.3</a>
            </li>
          </ul>
        </li>
        <li class="component is-current">
          <div class="title"><a href="../../../latest/en/longhorn-documentation.html">SUSE® Storage</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../latest/en/longhorn-documentation.html">Latest</a>
            </li>
            <li class="version is-current">
              <a href="../longhorn-documentation.html">1.11 (Dev)</a>
            </li>
            <li class="version">
              <a href="../../../1.10/en/longhorn-documentation.html">1.10 (Dev)</a>
            </li>
            <li class="version">
              <a href="../../../1.9/en/longhorn-documentation.html">1.9 (Latest)</a>
            </li>
            <li class="version">
              <a href="../../../1.8/en/longhorn-documentation.html">1.8</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../virtualization/v1.5/en/introduction/overview.html">SUSE® Virtualization</a></div>
          <ul class="versions">
            <li class="version">
              <a href="../../../../virtualization/v1.6/en/introduction/overview.html">v1.6 (Dev)</a>
            </li>
            <li class="version is-latest">
              <a href="../../../../virtualization/v1.5/en/introduction/overview.html">v1.5 (Latest)</a>
            </li>
            <li class="version">
              <a href="../../../../virtualization/v1.4/en/introduction/overview.html">v1.4</a>
            </li>
            <li class="version">
              <a href="../../../../virtualization/v1.3/en/introduction/overview.html">v1.3</a>
            </li>
          </ul>
        </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
<ul>
    <li>
      <a href="https://documentation.suse.com/" title="documentation.suse.com" aria-label="SUSE Documentation Home">Documentation Home</a>
    </li>
    <li>
      <a href="https://documentation.suse.com/cloudnative/storage" title="SUSE Storage" aria-label="SUSE Documentation - SUSE Storage">
        SUSE Storage
      </a>
    </li>
      <li>
          SUSE® Storage System
      </li>
  </ul>
</nav><div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">1.11 (Dev)</button>
  <div class="version-menu">
    <a class="version" href="../../../latest/en/longhorn-system/settings.html">Latest</a>
    <a class="version is-current" href="settings.html">1.11 (Dev)</a>
    <a class="version" href="../../../1.10/en/longhorn-system/settings.html">1.10 (Dev)</a>
    <a class="version" href="../../../1.9/en/longhorn-system/settings.html">1.9 (Latest)</a>
    <a class="version" href="../../../1.8/en/longhorn-system/settings.html">1.8</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/rancher/longhorn-product-docs/edit/main/docs/version-1.11/modules/en/pages/longhorn-system/settings.adoc"><strong>Edit</strong></a></div>
        <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <label class="visual-search-label-bc" for="search-input">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
          <input label="Search" aria-label="Search" id="search-input" type="text" placeholder="Search the docs" >
          <label class="filter checkbox" style="display: none">
            <input type="checkbox" data-facet-filter="component:storage" checked> Only this project
          </label>
        </div>
      </div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="On this page" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This is unreleased documentation for SUSE® Storage 1.11 (Dev).</p>
</div>
</td>
</tr>
</table>
</div>
<h1 class="page">Settings</h1>
<div class="sect1">
<h2 id="_value_format_types_by_supported_data_engines"><a class="anchor" href="#_value_format_types_by_supported_data_engines"></a>Value Format Types by Supported Data Engines</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each setting supports only one of the following formats, based on its definition.
The supported format determines which data engines can be configured and whether their values can differ.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Single value for all supported data engines</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>Format:</strong> Non-JSON string (for example, <code>1024</code>)</p>
</li>
<li>
<p>The value applies to all supported data engines and must be the same across them.</p>
</li>
<li>
<p>Data-engine-specific values are not allowed.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Data-engine-specific values for V1 and V2 data engines</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>Format:</strong> JSON object (for example, <code>{"v1": "value1", "v2": "value2"}</code>)</p>
</li>
<li>
<p>Allows specifying different values for V1 and V2 data engines.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Data-engine-specific values for V1 data engine only</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>Format:</strong> JSON object with <code>v1</code> key only (for example, <code>{"v1": "value1"}</code>)</p>
</li>
<li>
<p>Only the V1 data engine can be configured. The V2 data engine is not affected.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Data-engine-specific values for V2 data engine only</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>Format:</strong> JSON object with <code>v2</code> key only (for example, <code>{"v2": "value1"}</code>)</p>
</li>
<li>
<p>Only the V2 data engine can be configured. The V1 data engine is not affected.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_customizing_default_settings"><a class="anchor" href="#_customizing_default_settings"></a>Customizing Default Settings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To configure SUSE Storage before installing it, see <a href="customize-default-settings.html" class="xref page">this section</a> for details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_system_info"><a class="anchor" href="#_system_info"></a>System Info</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_default_engine_image"><a class="anchor" href="#_default_engine_image"></a>Default Engine Image</h3>
<div class="paragraph">
<p>The default engine image is the image used by the manager and can be changed only when the manager starts.</p>
</div>
<div class="paragraph">
<p>Every SUSE Storage release includes a new engine image. A green arrow will appear on the Longhorn volumes not using the default engine, indicating that the volume needs to be upgraded.</p>
</div>
</div>
<div class="sect2">
<h3 id="_default_instance_manager_image"><a class="anchor" href="#_default_instance_manager_image"></a>Default Instance Manager Image</h3>
<div class="paragraph">
<p>The default instance manager image is the image used by the manager and can be changed only when the manager starts.</p>
</div>
</div>
<div class="sect2">
<h3 id="_default_backing_image_manager_image"><a class="anchor" href="#_default_backing_image_manager_image"></a>Default Backing Image Manager Image</h3>
<div class="paragraph">
<p>The default backing image manager image is the image used by the manager and can be changed only when the manager starts.</p>
</div>
</div>
<div class="sect2">
<h3 id="_support_bundle_manager_image"><a class="anchor" href="#_support_bundle_manager_image"></a>Support Bundle Manager Image</h3>
<div class="paragraph">
<p>SUSE Storage uses the support bundle manager image to generate support bundles.</p>
</div>
<div class="paragraph">
<p>A default image is provided during installation and upgrade, and you can also change this in the settings.</p>
</div>
<div class="paragraph">
<p>An example of the support bundle manager image:</p>
</div>
<div class="paragraph">
<p><strong>Default value</strong>: <code>longhornio/support-bundle-kit:v0.0.14</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_current_suse_storage_version"><a class="anchor" href="#_current_suse_storage_version"></a>Current SUSE Storage Version</h3>
<div class="paragraph">
<p>The current SUSE Storage version.</p>
</div>
</div>
<div class="sect2">
<h3 id="_latest_suse_storage_version"><a class="anchor" href="#_latest_suse_storage_version"></a>Latest SUSE Storage Version</h3>
<div class="paragraph">
<p>The latest available version of SUSE Storage. This is automatically updated by the <code>Upgrade Checker</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This is only available if <code>Upgrade Checker</code> is enabled.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_stable_suse_storage_versions"><a class="anchor" href="#_stable_suse_storage_versions"></a>Stable SUSE Storage Versions</h3>
<div class="paragraph">
<p>The latest stable version of every minor release line. It is updated by the <code>Upgrade Checker</code> automatically.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_general"><a class="anchor" href="#_general"></a>General</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_node_drain_policy"><a class="anchor" href="#_node_drain_policy"></a>Node Drain Policy</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>block-if-contains-last-replica</code></p>
</div>
<div class="paragraph">
<p>Define the policy to use when a node with the last healthy replica of a volume is drained. Available options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>block-if-contains-last-replica</code>: SUSE Storage will block the drain when the node contains the last healthy replica of a
volume.</p>
</li>
<li>
<p><code>allow-if-replica-is-stopped</code>: SUSE Storage will allow the drain when the node contains the last healthy replica of a
volume but the replica is stopped.
WARNING: possible data loss if the node is removed after draining.</p>
</li>
<li>
<p><code>always-allow</code>: SUSE Storage will allow the drain even though the node contains the last healthy replica of a volume.
WARNING: possible data loss if the node is removed after draining. Also possible data corruption if the last replica
was running during the draining.</p>
</li>
<li>
<p><code>block-for-eviction</code>: SUSE Storage will automatically evict all replicas and block the drain until eviction is complete.
WARNING: Can result in slow drains and extra data movement associated with replica rebuilding.</p>
</li>
<li>
<p><code>block-for-eviction-if-contains-last-replica</code>: SUSE Storage will automatically evict any replicas that don&#8217;t have a
healthy counterpart and block the drain until eviction is complete.
WARNING: Can result in slow drains and extra data movement associated with replica rebuilding.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each option has benefits and drawbacks. See <a href="../troubleshooting-maintenance/maintenance.html#_node_drain_policy_recommendations" class="xref page">Node Drain Policy Recommendations</a> for help deciding which is most appropriate in your environment.</p>
</div>
</div>
<div class="sect2">
<h3 id="_detach_manually_attached_volumes_when_cordoned"><a class="anchor" href="#_detach_manually_attached_volumes_when_cordoned"></a>Detach Manually Attached Volumes When Cordoned</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>false</code></p>
</div>
<div class="paragraph">
<p>SUSE Storage will automatically detach volumes that are manually attached to the nodes which are cordoned.
This prevent the draining process stuck by the PDB of instance-manager which still has running engine on the node.</p>
</div>
</div>
<div class="sect2">
<h3 id="_automatically_clean_up_system_generated_snapshot"><a class="anchor" href="#_automatically_clean_up_system_generated_snapshot"></a>Automatically Clean up System Generated Snapshot</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>true</code></p>
</div>
<div class="paragraph">
<p>SUSE Storage will generate system snapshot during replica rebuild, and if a user doesn&#8217;t setup a recurring snapshot schedule, all the system generated snapshots would be left in the replica, and user has to delete them manually, this setting allow SUSE Storage to automatically cleanup system generated snapshot before and after replica rebuild.</p>
</div>
</div>
<div class="sect2">
<h3 id="_automatically_clean_up_outdated_snapshots_of_recurring_backup_jobs"><a class="anchor" href="#_automatically_clean_up_outdated_snapshots_of_recurring_backup_jobs"></a>Automatically Clean up Outdated Snapshots of Recurring Backup Jobs</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>true</code></p>
</div>
<div class="paragraph">
<p>If enabled, when running a recurring backup job, SUSE Storage takes a new snapshot before creating the backup. SUSE Storage retains only the snapshot used by the last backup job even if the value of the retain parameter is not 1.</p>
</div>
<div class="paragraph">
<p>If disabled, this setting ensures that the retained snapshots directly correspond to the backups on the remote backup target.</p>
</div>
</div>
<div class="sect2">
<h3 id="_automatically_delete_workload_pod_when_the_volume_is_detached_unexpectedly"><a class="anchor" href="#_automatically_delete_workload_pod_when_the_volume_is_detached_unexpectedly"></a>Automatically Delete Workload Pod when The Volume Is Detached Unexpectedly</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>true</code></p>
</div>
<div class="paragraph">
<p>If enabled, SUSE Storage will automatically delete the workload pod that is managed by a controller (e.g. deployment, statefulset, daemonset, etc.) when Longhorn volume is detached unexpectedly (e.g. during Kubernetes upgrade, Docker reboot, or network disconnect).
By deleting the pod, its controller restarts the pod and Kubernetes handles volume reattachment and remount.</p>
</div>
<div class="paragraph">
<p>If disabled, SUSE Storage will not delete the workload pod that is managed by a controller. You will have to manually restart the pod to reattach and remount the volume.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This setting does not apply to workload pods without a controller. SUSE Storage never deletes such pods.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_automatic_salvage"><a class="anchor" href="#_automatic_salvage"></a>Automatic Salvage</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>true</code></p>
</div>
<div class="paragraph">
<p>If enabled, volumes will be automatically salvaged when all the replicas become faulty e.g. due to network disconnection. SUSE Storage will try to figure out which replica(s) are usable, then use them for the volume.</p>
</div>
</div>
<div class="sect2">
<h3 id="_concurrent_automatic_engine_upgrade_per_node_limit"><a class="anchor" href="#_concurrent_automatic_engine_upgrade_per_node_limit"></a>Concurrent Automatic Engine Upgrade Per Node Limit</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>0</code></p>
</div>
<div class="paragraph">
<p>This setting controls how SUSE Storage automatically upgrades volumes' engines to the new default engine image after upgrading Longhorn manager.</p>
</div>
<div class="paragraph">
<p>The value of this setting specifies the maximum number of engines per node that are allowed to upgrade to the default engine image at the same time.</p>
</div>
<div class="paragraph">
<p>If the value is 0, SUSE Storage will not automatically upgrade volumes' engines to default version.</p>
</div>
</div>
<div class="sect2">
<h3 id="_concurrent_volume_backup_restore_per_node_limit"><a class="anchor" href="#_concurrent_volume_backup_restore_per_node_limit"></a>Concurrent Volume Backup Restore Per Node Limit</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>5</code></p>
</div>
<div class="paragraph">
<p>This setting controls how many volumes on a node can restore the backup concurrently.</p>
</div>
<div class="paragraph">
<p>SUSE Storage blocks the backup restore once the restoring volume count exceeds the limit.</p>
</div>
<div class="paragraph">
<p>Set the value to <strong>0</strong> to disable backup restore.</p>
</div>
</div>
<div class="sect2">
<h3 id="_create_default_disk_on_labeled_nodes"><a class="anchor" href="#_create_default_disk_on_labeled_nodes"></a>Create Default Disk on Labeled Nodes</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>false</code></p>
</div>
<div class="paragraph">
<p>If no other disks exist, create the default disk automatically, only on nodes with the Kubernetes label <code>node.longhorn.io/create-default-disk=true</code> .</p>
</div>
<div class="paragraph">
<p>If disabled, the default disk will be created on all new nodes when the node is detected for the first time.</p>
</div>
<div class="paragraph">
<p>This option is useful if you want to scale the cluster but don&#8217;t want to use storage on the new nodes, or if you want to <a href="../nodes/default-disk-and-node-config.html" class="xref page">customize disks for Longhorn nodes</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_custom_resource_api_version"><a class="anchor" href="#_custom_resource_api_version"></a>Custom Resource API Version</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>longhorn.io/v1beta2</code></p>
</div>
<div class="paragraph">
<p>The current customer resource&#8217;s API version, e.g. longhorn.io/v1beta2. Set by manager automatically.</p>
</div>
</div>
<div class="sect2">
<h3 id="_default_data_locality"><a class="anchor" href="#_default_data_locality"></a>Default Data Locality</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>disabled</code></p>
</div>
<div class="paragraph">
<p>We say a Longhorn volume has data locality if there is a local replica of the volume on the same node as the pod which is using the volume.
This setting specifies the default data locality when a volume is created from the SUSE Storage UI. For Kubernetes configuration, update the dataLocality in the StorageClass</p>
</div>
<div class="paragraph">
<p>The available modes are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>disabled</code>. This is the default option.
There may or may not be a replica on the same node as the attached volume (workload).</p>
</li>
<li>
<p><code>best-effort</code>. This option instructs SUSE Storage to try to keep a replica on the same node as the attached volume (workload).
SUSE Storage will not stop the volume, even if it cannot keep a replica local to the attached volume (workload) due to environment limitation, e.g. not enough disk space, incompatible disk tags, etc.</p>
</li>
<li>
<p><code>strict-local</code>: This option enforces SUSE Storage keep the <strong>only one replica</strong> on the same node as the attached volume, and therefore, it offers higher IOPS and lower latency performance.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_default_data_path"><a class="anchor" href="#_default_data_path"></a>Default Data Path</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>/var/lib/longhorn/</code></p>
</div>
<div class="paragraph">
<p>Default path to use for storing data on a host.</p>
</div>
<div class="paragraph">
<p>Can be used with <code>Create Default Disk on Labeled Nodes</code> option, to make SUSE Storage only use the nodes with specific storage mounted at, for example, <code>/opt/longhorn</code> when scaling the cluster.</p>
</div>
</div>
<div class="sect2">
<h3 id="_default_suse_storage_static_storageclass_name"><a class="anchor" href="#_default_suse_storage_static_storageclass_name"></a>Default SUSE Storage Static StorageClass Name</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>longhorn-static</code></p>
</div>
<div class="paragraph">
<p>The <code>storageClassName</code> is for persistent volumes (PVs) and persistent volume claims (PVCs) when creating PV/PVC for an existing Longhorn volume. Notice that it&#8217;s unnecessary for users to create the related StorageClass object in Kubernetes since the StorageClass would only be used as matching labels for PVC bounding purposes. The "storageClassName" needs to be an existing StorageClass. Only the StorageClass named <code>longhorn-static</code> will be created if it does not exist. By default 'longhorn-static'.</p>
</div>
</div>
<div class="sect2">
<h3 id="_default_replica_count"><a class="anchor" href="#_default_replica_count"></a>Default Replica Count</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>{"v1":"3","v2":"3"}</code></p>
</div>
<div class="paragraph">
<p>The default number of replicas when creating the volume from SUSE Storage UI. For Kubernetes, update the <code>numberOfReplicas</code> in the StorageClass</p>
</div>
<div class="paragraph">
<p>The recommended way of choosing the default replica count is: if you have three or more nodes for storage, use 3; otherwise use 2. Using a single replica on a single node cluster is also OK, but the high availability functionality wouldn&#8217;t be available. You can still take snapshots or backups of the volume.</p>
</div>
</div>
<div class="sect2">
<h3 id="_deleting_confirmation_flag"><a class="anchor" href="#_deleting_confirmation_flag"></a>Deleting Confirmation Flag</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>false</code></p>
</div>
<div class="paragraph">
<p>This flag is designed to prevent SUSE Storage from being accidentally uninstalled which will lead to data loss.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Set this flag to <strong>true</strong> to allow SUSE Storage uninstallation.</p>
</li>
<li>
<p>If this flag <strong>false</strong>, SUSE Storage uninstallation job will fail.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_disable_revision_counter"><a class="anchor" href="#_disable_revision_counter"></a>Disable Revision Counter</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>{"v1":"true"}</code></p>
</div>
<div class="paragraph">
<p>Allows engine controller and engine replica to disable revision counter file update for every data write. This improves the data path performance. See <a href="../high-availability/revision_counter.html" class="xref page">Revision Counter</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="_enable_upgrade_checker"><a class="anchor" href="#_enable_upgrade_checker"></a>Enable Upgrade Checker</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>true</code></p>
</div>
<div class="paragraph">
<p>Upgrade Checker will check for a new SUSE Storage version periodically. When there is a new version available, it will notify the user in the SUSE Storage UI.</p>
</div>
</div>
<div class="sect2">
<h3 id="_upgrade_responder_url"><a class="anchor" href="#_upgrade_responder_url"></a>Upgrade Responder URL</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>https://longhorn-upgrade-responder.rancher.io/v1/checkupgrade</code></p>
</div>
<div class="paragraph">
<p>The Upgrade Responder sends a notification whenever a new SUSE Storage version that you can upgrade to becomes available.</p>
</div>
</div>
<div class="sect2">
<h3 id="_allow_collecting_suse_storage_usage_metrics"><a class="anchor" href="#_allow_collecting_suse_storage_usage_metrics"></a>Allow Collecting SUSE Storage Usage Metrics</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>true</code></p>
</div>
<div class="paragraph">
<p>Enabling this setting will allow SUSE Storage to provide valuable usage metrics to <a href="https://metrics.longhorn.io/" class="bare">https://metrics.longhorn.io/</a>.</p>
</div>
<div class="paragraph">
<p>This information will help us gain insights how SUSE Storage is being used, which will ultimately contribute to future improvements.</p>
</div>
<div class="paragraph">
<p><strong>Node Information collected from all cluster nodes includes:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Number of disks of each device type (HDD, SSD, NVMe, unknown).</p>
<div class="paragraph">
<p>This value may not be accurate for virtual machines.</p>
</div>
</li>
<li>
<p>Number of disks for each Longhorn disk type (block, filesystem).</p>
</li>
<li>
<p>Host system architecture.</p>
</li>
<li>
<p>Host kernel release.</p>
</li>
<li>
<p>Host operating system (OS) distribution.</p>
</li>
<li>
<p>Kubernetes node provider.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Cluster Information collected from one of the cluster nodes includes:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Longhorn namespace UID.</p>
</li>
<li>
<p>Number of Longhorn nodes.</p>
</li>
<li>
<p>Number of volumes of each access mode (RWO, RWX, unknown).</p>
</li>
<li>
<p>Number of volumes of each data engine (v1, v2).</p>
</li>
<li>
<p>Number of volumes of each data locality type (disabled, best_effort, strict_local, unknown).</p>
</li>
<li>
<p>Number of volumes that are encrypted or unencrypted.</p>
</li>
<li>
<p>Number of volumes of each frontend type (blockdev, iscsi).</p>
</li>
<li>
<p>Number of replicas.</p>
</li>
<li>
<p>Number of snapshots.</p>
</li>
<li>
<p>Number of backing images.</p>
</li>
<li>
<p>Number of orphans.</p>
</li>
<li>
<p>Average volume size in bytes.</p>
</li>
<li>
<p>Average volume actual size in bytes.</p>
</li>
<li>
<p>Average number of snapshots per volume.</p>
</li>
<li>
<p>Average number of replicas per volume.</p>
</li>
<li>
<p>Average SUSE Storage component CPU usage (instance manager, manager) in millicores.</p>
</li>
<li>
<p>Average SUSE Storage component memory usage (instance manager, manager) in bytes.</p>
</li>
<li>
<p>Longhorn settings:</p>
<div class="ulist">
<ul>
<li>
<p>Partially included:</p>
<div class="ulist">
<ul>
<li>
<p>Backup Target Type or Protocol (azblob, cifs, nfs, s3, none, unknown). This is from the Backup Target setting.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Included as true or false to indicate if this setting is configured:</p>
<div class="ulist">
<ul>
<li>
<p>Priority Class</p>
</li>
<li>
<p>Registry Secret</p>
</li>
<li>
<p>Snapshot Data Integrity CronJob</p>
</li>
<li>
<p>Storage Network</p>
</li>
<li>
<p>System Managed Components Node Selector</p>
</li>
<li>
<p>Taint Toleration</p>
</li>
</ul>
</div>
</li>
<li>
<p>Included as it is:</p>
<div class="ulist">
<ul>
<li>
<p>Allow Recurring Job While Volume Is Detached</p>
</li>
<li>
<p>Allow Volume Creation With Degraded Availability</p>
</li>
<li>
<p>Automatically Clean up System Generated Snapshot</p>
</li>
<li>
<p>Automatically Clean up Outdated Snapshots of Recurring Backup Jobs</p>
</li>
<li>
<p>Automatically Delete Workload Pod when The Volume Is Detached Unexpectedly</p>
</li>
<li>
<p>Automatic Salvage</p>
</li>
<li>
<p>Backing Image Cleanup Wait Interval</p>
</li>
<li>
<p>Backing Image Recovery Wait Interval</p>
</li>
<li>
<p>Backup Compression Method</p>
</li>
<li>
<p>Backupstore Poll Interval</p>
</li>
<li>
<p>Backup Concurrent Limit</p>
</li>
<li>
<p>Concurrent Automatic Engine Upgrade Per Node Limit</p>
</li>
<li>
<p>Concurrent Backup Restore Per Node Limit</p>
</li>
<li>
<p>Concurrent Replica Rebuild Per Node Limit</p>
</li>
<li>
<p>CRD API Version</p>
</li>
<li>
<p>Create Default Disk Labeled Nodes</p>
</li>
<li>
<p>Default Data Locality</p>
</li>
<li>
<p>Default Replica Count</p>
</li>
<li>
<p>Disable Revision Counter</p>
</li>
<li>
<p>Disable Scheduling On Cordoned Node</p>
</li>
<li>
<p>Engine Replica Timeout</p>
</li>
<li>
<p>Failed Backup TTL</p>
</li>
<li>
<p>Fast Replica Rebuild Enabled</p>
</li>
<li>
<p>Guaranteed Instance Manager CPU</p>
</li>
<li>
<p>Kubernetes Cluster Autoscaler Enabled</p>
</li>
<li>
<p>Node Down Pod Deletion Policy</p>
</li>
<li>
<p>Node Drain Policy</p>
</li>
<li>
<p>Orphan Auto Deletion</p>
</li>
<li>
<p>Recurring Failed Jobs History Limit</p>
</li>
<li>
<p>Recurring Successful Jobs History Limit</p>
</li>
<li>
<p>Remove Snapshots During Filesystem Trim</p>
</li>
<li>
<p>Replica Auto Balance</p>
</li>
<li>
<p>Replica File Sync HTTP Client Timeout</p>
</li>
<li>
<p>Replica Replenishment Wait Interval</p>
</li>
<li>
<p>Replica Soft Anti Affinity</p>
</li>
<li>
<p>Replica Zone Soft Anti Affinity</p>
</li>
<li>
<p>Replica Disk Soft Anti Affinity</p>
</li>
<li>
<p>Restore Concurrent Limit</p>
</li>
<li>
<p>Restore Volume Recurring Jobs</p>
</li>
<li>
<p>Snapshot Data Integrity</p>
</li>
<li>
<p>Snapshot DataIntegrity Immediate Check After Snapshot Creation</p>
</li>
<li>
<p>Storage Minimal Available Percentage</p>
</li>
<li>
<p>Storage Network For RWX Volume Enabled</p>
</li>
<li>
<p>Storage Over Provisioning Percentage</p>
</li>
<li>
<p>Storage Reserved Percentage For Default Disk</p>
</li>
<li>
<p>Support Bundle Failed History Limit</p>
</li>
<li>
<p>Support Bundle Node Collection Timeout</p>
</li>
<li>
<p>System Managed Pods Image Pull Policy</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>Upgrade Checker</code> needs to be enabled to periodically send the collected data.</p>
</div>
</div>
<div class="sect2">
<h3 id="_pod_deletion_policy_when_node_is_down"><a class="anchor" href="#_pod_deletion_policy_when_node_is_down"></a>Pod Deletion Policy When Node is Down</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>do-nothing</code></p>
</div>
<div class="paragraph">
<p>Defines the SUSE Storage action when a Volume is stuck with a StatefulSet or Deployment Pod on a node that is down.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>do-nothing</code> is the default Kubernetes behavior of never force deleting StatefulSet or Deployment terminating pods. Since the pod on the node that is down isn&#8217;t removed, Longhorn volumes are stuck on nodes that are down.</p>
</li>
<li>
<p><code>delete-statefulset-pod</code> SUSE Storage will force delete StatefulSet terminating pods on nodes that are down to release Longhorn volumes so that Kubernetes can spin up replacement pods.</p>
</li>
<li>
<p><code>delete-deployment-pod</code> SUSE Storage will force delete Deployment terminating pods on nodes that are down to release Longhorn volumes so that Kubernetes can spin up replacement pods.</p>
</li>
<li>
<p><code>delete-both-statefulset-and-deployment-pod</code> SUSE Storage will force delete StatefulSet or Deployment terminating pods on nodes that are down to release Longhorn volumes so that Kubernetes can spin up replacement pods.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_registry_secret"><a class="anchor" href="#_registry_secret"></a>Registry Secret</h3>
<div class="paragraph">
<p>The Kubernetes Secret name.</p>
</div>
</div>
<div class="sect2">
<h3 id="_replica_replenishment_wait_interval"><a class="anchor" href="#_replica_replenishment_wait_interval"></a>Replica Replenishment Wait Interval</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>600</code></p>
</div>
<div class="paragraph">
<p>When there is at least one failed replica volume in a degraded volume, this interval in seconds determines how long SUSE Storage will wait at most in order to reuse the existing data of the failed replicas rather than directly creating a new replica for this volume.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This wait interval works only when there is at least one failed replica in the volume. And this option may block the rebuilding for a while.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_system_managed_pod_image_pull_policy"><a class="anchor" href="#_system_managed_pod_image_pull_policy"></a>System Managed Pod Image Pull Policy</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>if-not-present</code></p>
</div>
<div class="paragraph">
<p>This setting defines the Image Pull Policy of Longhorn system managed pods, e.g. instance manager, engine image, CSI driver, etc.</p>
</div>
<div class="paragraph">
<p>Notice that the new Image Pull Policy will only apply after the system managed pods restart.</p>
</div>
<div class="paragraph">
<p>This setting definition is exactly the same as that of in Kubernetes. Here are the available options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>always</code>. Every time the kubelet launches a container, the kubelet queries the container image registry to resolve the name to an image digest. If the kubelet has a container image with that exact digest cached locally, the kubelet uses its cached image; otherwise, the kubelet downloads (pulls) the image with the resolved digest, and uses that image to launch the container.</p>
</li>
<li>
<p><code>if-not-present</code>. The image is pulled only if it is not already present locally.</p>
</li>
<li>
<p><code>never</code>. The image is assumed to exist locally. No attempt is made to pull the image.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_backing_image_cleanup_wait_interval"><a class="anchor" href="#_backing_image_cleanup_wait_interval"></a>Backing Image Cleanup Wait Interval</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>60</code></p>
</div>
<div class="paragraph">
<p>This interval in minutes determines how long SUSE Storage will wait before cleaning up the backing image file when there is no replica in the disk using it.</p>
</div>
</div>
<div class="sect2">
<h3 id="_backing_image_recovery_wait_interval"><a class="anchor" href="#_backing_image_recovery_wait_interval"></a>Backing Image Recovery Wait Interval</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>300</code></p>
</div>
<div class="paragraph">
<p>The interval in seconds determines how long SUSE Storage will wait before re-downloading the backing image file when all disk files of this backing image become <code>failed</code> or <code>unknown</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>This recovery only works for the backing image of which the creation type is <code>download</code>.</p>
</li>
<li>
<p>File state <code>unknown</code> means the related manager pods on the pod is not running or the node itself is down or disconnected.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_default_min_number_of_backing_image_copies"><a class="anchor" href="#_default_min_number_of_backing_image_copies"></a>Default Min Number Of Backing Image Copies</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>1</code></p>
</div>
<div class="paragraph">
<p>The default minimum number of backing image copies SUSE Storage maintains.</p>
</div>
</div>
<div class="sect2">
<h3 id="_engine_replica_timeout"><a class="anchor" href="#_engine_replica_timeout"></a>Engine Replica Timeout</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>{"v1":"8","v2":"8"}</code></p>
</div>
<div class="paragraph">
<p>Number of seconds a V1 Data Engine waits for a replica to respond before marking it as failed. Values between 8 and 30 are allowed. This setting takes effect only when there are outstanding input or output requests.</p>
</div>
<div class="paragraph">
<p>This setting only applies to additional replicas. A V1 engine marks the last active replica as failed only after twice the configured number of seconds (timeout value x 2) have passed. This behavior is intended to balance volume responsiveness with volume availability.</p>
</div>
<div class="paragraph">
<p>The engine can quickly (after the configured timeout) ignore individual replicas that become unresponsive in favor of other available ones. This ensures future input or output will not be held up.</p>
</div>
<div class="paragraph">
<p>The engine waits on the last replica (until twice the configured timeout) to prevent unnecessarily crashing as a result of having no available backends.</p>
</div>
</div>
<div class="sect2">
<h3 id="_support_bundle_failed_history_limit"><a class="anchor" href="#_support_bundle_failed_history_limit"></a>Support Bundle Failed History Limit</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>1</code></p>
</div>
<div class="paragraph">
<p>This setting specifies how many failed support bundles can exist in the cluster.</p>
</div>
<div class="paragraph">
<p>The retained failed support bundle is for analysis purposes and needs to clean up manually.</p>
</div>
<div class="paragraph">
<p>SUSE Storage blocks support bundle creation when reaching the upper bound of the limitation. You can set this value to <strong>0</strong> to have SUSE Storage automatically purge all failed support bundles.</p>
</div>
</div>
<div class="sect2">
<h3 id="_support_bundle_node_collection_timeout"><a class="anchor" href="#_support_bundle_node_collection_timeout"></a>Support Bundle Node Collection Timeout</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>30</code></p>
</div>
<div class="paragraph">
<p>Number of minutes SUSE Storage allows for collection of node information and node logs for the support bundle.</p>
</div>
<div class="paragraph">
<p>If the collection process is not completed within the allotted time, SUSE Storage continues generating the support bundle without the uncollected node data.</p>
</div>
</div>
<div class="sect2">
<h3 id="_fast_replica_rebuild_enabled"><a class="anchor" href="#_fast_replica_rebuild_enabled"></a>Fast Replica Rebuild Enabled</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>{"v1":"true","v2":"true"}</code></p>
</div>
<div class="paragraph">
<p>The setting enables fast replica rebuilding feature. It relies on the checksums of snapshot disk files, so setting the snapshot-data-integrity to <strong>enable</strong> or <strong>fast-check</strong> is a prerequisite.</p>
</div>
</div>
<div class="sect2">
<h3 id="_timeout_of_http_client_to_replica_file_sync_server"><a class="anchor" href="#_timeout_of_http_client_to_replica_file_sync_server"></a>Timeout of HTTP Client to Replica File Sync Server</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>30</code></p>
</div>
<div class="paragraph">
<p>The value in seconds specifies the timeout of the HTTP client to the replica&#8217;s file sync server used for replica rebuilding, volume cloning, snapshot cloning, etc.</p>
</div>
</div>
<div class="sect2">
<h3 id="_offline_replica_rebuilding"><a class="anchor" href="#_offline_replica_rebuilding"></a>Offline Replica Rebuilding</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>false</code></p>
</div>
<div class="paragraph">
<p>Controls whether SUSE Storage automatically rebuilds degraded replicas while the volume is detached. This setting only takes effect if the volume-level setting is set to <code>ignored</code> or <code>enabled</code>.</p>
</div>
<div class="paragraph">
<p>Available options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>true</code>: Enables offline replica rebuilding for all detached volumes (unless overridden at the volume level).</p>
</li>
<li>
<p><code>false</code>: Disables offline replica rebuilding globally (unless overridden at the volume level).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Offline rebuilding occurs only when a volume is detached. Volumes in a faulted state will not trigger offline rebuilding.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This setting allows SUSE Storage to automatically rebuild replicas for detached volumes when needed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_long_grpc_timeout"><a class="anchor" href="#_long_grpc_timeout"></a>Long gRPC Timeout</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>86400</code></p>
</div>
<div class="paragraph">
<p>Number of seconds that SUSE Storage allows for the completion of replica rebuilding and snapshot cloning operations.</p>
</div>
</div>
<div class="sect2">
<h3 id="_rwx_volume_fast_failover_experimental"><a class="anchor" href="#_rwx_volume_fast_failover_experimental"></a>RWX Volume Fast Failover (Experimental)</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>false</code></p>
</div>
<div class="paragraph">
<p>Enable improved ReadWriteMany volume HA by shortening the time it takes to recover from a node failure.</p>
</div>
</div>
<div class="sect2">
<h3 id="_log_level"><a class="anchor" href="#_log_level"></a>Log Level</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>Log Level</code></p>
</div>
<div class="paragraph">
<p>Longhorn Manager uses the following log levels: <code>Panic</code>, <code>Fatal</code>, <code>Error</code>, <code>Warn</code>, <code>Info</code>, <code>Debug</code>, and <code>Trace</code>. The default log level is <code>Info</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_log_path"><a class="anchor" href="#_log_path"></a>Log Path</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>/var/lib/longhorn/logs/</code></p>
</div>
<div class="paragraph">
<p>This setting specifies the directory on the host where SUSE Storage stores log files for the instance manager pod. Currently, this is only used for instance manager pods in the v2 data engine.</p>
</div>
</div>
<div class="sect2">
<h3 id="_data_engine_log_level"><a class="anchor" href="#_data_engine_log_level"></a>Data Engine Log Level</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>{"v2":"Notice"}</code></p>
</div>
<div class="paragraph">
<p>Applies only to the V2 Data Engine. Specifies the log level for the Storage Performance Development Kit (SPDK) target daemon. Supported values: <code>Error</code>, <code>Warning</code>, <code>Notice</code>, <code>Info</code>, and <code>Debug</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_data_engine_log_flags"><a class="anchor" href="#_data_engine_log_flags"></a>Data Engine Log Flags</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>{"v2":""}</code></p>
</div>
<div class="paragraph">
<p>Applies only to the V2 Data Engine. Specifies the log flags for the Storage Performance Development Kit (SPDK) target daemon.</p>
</div>
</div>
<div class="sect2">
<h3 id="_replica_rebuilding_bandwidth_limit"><a class="anchor" href="#_replica_rebuilding_bandwidth_limit"></a>Replica Rebuilding Bandwidth Limit</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>{"v2":"0"}</code></p>
</div>
<div class="paragraph">
<p>Applies only to the V2 Data Engine. Specifies the default write bandwidth limit, in megabytes per second (MB/s), for volume replica rebuilding.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_snapshot"><a class="anchor" href="#_snapshot"></a>Snapshot</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_snapshot_data_integrity"><a class="anchor" href="#_snapshot_data_integrity"></a>Snapshot Data Integrity</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>{"v1":"fast-check","v2":"fast-check"}</code></p>
</div>
<div class="paragraph">
<p>This setting allows users to enable or disable snapshot hashing and data integrity checking. Available options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>disabled</strong>: Disable snapshot disk file hashing and data integrity checking.</p>
</li>
<li>
<p><strong>enabled</strong>: Enables periodic snapshot disk file hashing and data integrity checking. To detect the filesystem-unaware corruption caused by bit rot or other issues in snapshot disk files, SUSE Storage system periodically hashes files and finds corrupted ones. Hence, the system performance will be impacted during the periodical checking.</p>
</li>
<li>
<p><strong>fast-check</strong>: Enable snapshot disk file hashing and fast data integrity checking. Longhorn system only hashes snapshot disk files if their are not hashed or the modification time are changed. In this mode, filesystem-unaware corruption cannot be detected, but the impact on system performance can be minimized.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_immediate_snapshot_data_integrity_check_after_creating_a_snapshot"><a class="anchor" href="#_immediate_snapshot_data_integrity_check_after_creating_a_snapshot"></a>Immediate Snapshot Data Integrity Check After Creating a Snapshot</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>{"v1":"false","v2":"false"}</code></p>
</div>
<div class="paragraph">
<p>Hashing snapshot disk files impacts the performance of the system. The immediate snapshot hashing and checking can be disabled to minimize the impact after creating a snapshot.</p>
</div>
</div>
<div class="sect2">
<h3 id="_snapshot_data_integrity_check_cronjob"><a class="anchor" href="#_snapshot_data_integrity_check_cronjob"></a>Snapshot Data Integrity Check CronJob</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>{"v1":"0 0 */7 * *","v2":"0 0 */7 * *"}</code></p>
</div>
<div class="paragraph">
<p>Unix-cron string format. The setting specifies when SUSE Storage checks the data integrity of snapshot disk files.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Hashing snapshot disk files impacts the performance of the system. It is recommended to run data integrity checks during off-peak times and to reduce the frequency of checks.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_snapshot_maximum_count"><a class="anchor" href="#_snapshot_maximum_count"></a>Snapshot Maximum Count</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>250</code></p>
</div>
<div class="paragraph">
<p>Maximum snapshot count for a volume. The value should be between 2 to 250.</p>
</div>
</div>
<div class="sect2">
<h3 id="_freeze_filesystem_for_snapshot"><a class="anchor" href="#_freeze_filesystem_for_snapshot"></a>Freeze Filesystem For Snapshot</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>{"v1":"false"}</code></p>
</div>
<div class="paragraph">
<p>This setting only applies to volumes with the Kubernetes volume mode <code>Filesystem</code>. When enabled, SUSE Storage freezes the
volume&#8217;s filesystem immediately before creating a user-initiated snapshot. When disabled or when the Kubernetes volume
mode is <code>Block</code>, SUSE Storage instead attempts a system sync before creating a user-initiated snapshot.</p>
</div>
<div class="paragraph">
<p>Snapshots created when this setting is enabled are more likely to be consistent because the filesystem is in a
consistent state at the moment of creation. However, under very heavy input or output, freezing the filesystem may take a
significant amount of time and may cause workload activity to pause.</p>
</div>
<div class="paragraph">
<p>When this setting is disabled, all data is flushed to disk just before the snapshot is created, but SUSE Storage cannot
completely block write attempts during the brief interval between the system sync and snapshot creation. input or output is not
paused during the system sync, so workloads likely do not notice that a snapshot is being created.</p>
</div>
<div class="paragraph">
<p>The default option for this setting is <code>false</code> because kernels with version <code>v5.17</code> or earlier may not respond correctly
when a volume crashes while a freeze is ongoing. This is not likely to happen but if it does, an affected kernel will
not allow you to unmount the filesystem or stop processes using the filesystem without rebooting the node. Only enable
this setting if you plan to use kernels with version <code>5.17</code> or later, and ext4 or XFS filesystems.</p>
</div>
<div class="paragraph">
<p>You can override this setting (using the field <code>freezeFilesystemForSnapshot</code>) for specific volumes through the SUSE Storage
UI, a StorageClass, or direct changes to an existing volume. <code>freezeFilesystemForSnapshot</code> accepts the following values:</p>
</div>
<div class="paragraph">
<p><strong>Default value</strong>: <code>ignored</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ignored</code>: Instructs SUSE Storage to use the global setting. This is the default option.</p>
</li>
<li>
<p><code>enabled</code>: Enables freezing before snapshots, regardless of the global setting.</p>
</li>
<li>
<p><code>disabled</code>: Disables freezing before snapshots, regardless of the global setting.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_orphan"><a class="anchor" href="#_orphan"></a>Orphan</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_orphaned_resource_automatic_deletion"><a class="anchor" href="#_orphaned_resource_automatic_deletion"></a>Orphaned Resource Automatic Deletion</h3>
<div class="paragraph">
<p><strong>Example</strong>: <code>replica-data;instance</code></p>
</div>
<div class="paragraph">
<p>This setting allows SUSE Storage to automatically delete <code>orphan</code> resources, which are typically Custom Resources (CRs) created by SUSE Storage to represent detected orphaned entities. The deletion of an <code>orphan</code> CR subsequently triggers the cleanup of the actual orphaned data or runtime instance it represents. However, <code>orphan</code> resources associated with nodes that are in a <code>down</code> or <code>unknown</code> state will not be automatically cleaned up by this setting.</p>
</div>
<div class="paragraph">
<p>You can list the resource types to be automatically deleted as a semicolon-separated string. Available types include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>replica-data</code>: Represents replica data store.</p>
</li>
<li>
<p><code>instance</code>: Represents engine and replica runtime instance.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_orphaned_resource_automatic_deletion_grace_period"><a class="anchor" href="#_orphaned_resource_automatic_deletion_grace_period"></a>Orphaned Resource Automatic Deletion Grace Period</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>300</code> seconds</p>
</div>
<div class="paragraph">
<p>Number of seconds SUSE Storage waits before automatically deleting an orphaned custom resource (CR) and the actual orphaned data or runtime instance it represents.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The grace period does not take effect when you manually delete an orphaned CR.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_backups"><a class="anchor" href="#_backups"></a>Backups</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_allow_recurring_job_while_volume_is_detached"><a class="anchor" href="#_allow_recurring_job_while_volume_is_detached"></a>Allow Recurring Job While Volume Is Detached</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>false</code></p>
</div>
<div class="paragraph">
<p>If this setting is enabled, SUSE Storage automatically attaches the volume and takes snapshot or backup when it is the time to do recurring snapshot or backup.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
During the time the volume was attached automatically, the volume is not ready for the workload. The workload will have to wait until the recurring job finishes.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_backup_execution_timeout"><a class="anchor" href="#_backup_execution_timeout"></a>Backup Execution Timeout</h4>
<div class="paragraph">
<p><strong>Default value</strong>: <code>1</code></p>
</div>
<div class="paragraph">
<p>Number of minutes that SUSE Storage allows for the backup execution.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_failed_backup_time_to_live"><a class="anchor" href="#_failed_backup_time_to_live"></a>Failed Backup Time To Live</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>1440</code></p>
</div>
<div class="paragraph">
<p>The interval in minutes to keep the backup resource that was failed. Set to 0 to disable the auto-deletion.</p>
</div>
<div class="paragraph">
<p>Failed backups will be checked and cleaned up during backupstore polling which is controlled by <strong>Backupstore Poll Interval</strong> setting. Hence this value determines the minimal wait interval of the cleanup. And the actual cleanup interval is multiple of <strong>Backupstore Poll Interval</strong>. Disabling <strong>Backupstore Poll Interval</strong> also means to disable failed backup auto-deletion.</p>
</div>
</div>
<div class="sect2">
<h3 id="_cronjob_failed_jobs_history_limit"><a class="anchor" href="#_cronjob_failed_jobs_history_limit"></a>Cronjob Failed Jobs History Limit</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>1</code></p>
</div>
<div class="paragraph">
<p>This setting specifies how many failed backup or snapshot job histories should be retained.</p>
</div>
<div class="paragraph">
<p>History will not be retained if the value is 0.</p>
</div>
</div>
<div class="sect2">
<h3 id="_cronjob_successful_jobs_history_limit"><a class="anchor" href="#_cronjob_successful_jobs_history_limit"></a>Cronjob Successful Jobs History Limit</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>1</code></p>
</div>
<div class="paragraph">
<p>This setting specifies how many successful backup or snapshot job histories should be retained.</p>
</div>
<div class="paragraph">
<p>History will not be retained if the value is 0.</p>
</div>
</div>
<div class="sect2">
<h3 id="_restore_volume_recurring_jobs"><a class="anchor" href="#_restore_volume_recurring_jobs"></a>Restore Volume Recurring Jobs</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>false</code></p>
</div>
<div class="paragraph">
<p>This setting allows restoring the recurring jobs of a backup volume from the backup target during a volume restoration if they do not exist on the cluster.
This is also a volume-specific setting with the below options. Users can customize it for each volume to override the global setting.</p>
</div>
<div class="paragraph">
<p><strong>Default value</strong>: <code>ignored</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ignored</code>: This is the default option that instructs SUSE Storage to inherit from the global setting.</p>
</li>
<li>
<p><code>enabled</code>: This option instructs SUSE Storage to restore volume recurring jobs or groups from the backup target forcibly.</p>
</li>
<li>
<p><code>disabled</code>: This option instructs SUSE Storage no restoring volume recurring jobs or groups should be done.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_backup_compression_method"><a class="anchor" href="#_backup_compression_method"></a>Backup Compression Method</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>lz4</code></p>
</div>
<div class="paragraph">
<p>This setting allows users to specify backup compression method.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>none</code>: Disable the compression method. Suitable for multimedia data such as encoded images and videos.</p>
</li>
<li>
<p><code>lz4</code>: Fast compression method. Suitable for flat files.</p>
</li>
<li>
<p><code>gzip</code>: A bit of higher compression ratio but relatively slow.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_backup_concurrent_limit_per_backup"><a class="anchor" href="#_backup_concurrent_limit_per_backup"></a>Backup Concurrent Limit Per Backup</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>2</code></p>
</div>
<div class="paragraph">
<p>This setting controls how many worker threads per backup concurrently.</p>
</div>
</div>
<div class="sect2">
<h3 id="_restore_concurrent_limit_per_backup"><a class="anchor" href="#_restore_concurrent_limit_per_backup"></a>Restore Concurrent Limit Per Backup</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>2</code></p>
</div>
<div class="paragraph">
<p>This setting controls how many worker threads per restore concurrently.</p>
</div>
</div>
<div class="sect2">
<h3 id="_default_backup_block_size"><a class="anchor" href="#_default_backup_block_size"></a>Default Backup Block Size</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>2</code></p>
</div>
<div class="paragraph">
<p>Specifies the default backup block size (in MiB), used when creating a new volume. Supported values are <code>2</code> or <code>16</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_scheduling"><a class="anchor" href="#_scheduling"></a>Scheduling</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_allow_volume_creation_with_degraded_availability"><a class="anchor" href="#_allow_volume_creation_with_degraded_availability"></a>Allow Volume Creation with Degraded Availability</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>true</code></p>
</div>
<div class="paragraph">
<p>This setting allows user to create and attach a volume that doesn&#8217;t have all the replicas scheduled at the time of creation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It&#8217;s recommended to disable this setting when using SUSE Storage in the production environment. See <a href="../installation-setup/best-practices.html" class="xref page">Best Practices</a> for details.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_disable_scheduling_on_cordoned_node"><a class="anchor" href="#_disable_scheduling_on_cordoned_node"></a>Disable Scheduling On Cordoned Node</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>true</code></p>
</div>
<div class="paragraph">
<p>When this setting is checked, the Longhorn Manager will not schedule replicas on Kubernetes cordoned nodes.</p>
</div>
<div class="paragraph">
<p>When this setting is un-checked, the Longhorn Manager will schedule replicas on Kubernetes cordoned nodes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_replica_node_level_soft_anti_affinity"><a class="anchor" href="#_replica_node_level_soft_anti_affinity"></a>Replica Node Level Soft Anti-Affinity</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>false</code></p>
</div>
<div class="paragraph">
<p>When this setting is checked, the Longhorn Manager will allow scheduling on nodes with existing healthy replicas of the same volume.</p>
</div>
<div class="paragraph">
<p>When this setting is un-checked, Longhorn Manager will forbid scheduling on nodes with existing healthy replicas of the same volume.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>This setting is superseded if replicas are forbidden to share a zone by the Replica Zone Level Anti-Affinity setting.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_replica_zone_level_soft_anti_affinity"><a class="anchor" href="#_replica_zone_level_soft_anti_affinity"></a>Replica Zone Level Soft Anti-Affinity</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>true</code></p>
</div>
<div class="paragraph">
<p>When this setting is checked, the Longhorn Manager will allow scheduling new replicas of a volume to the nodes in the same zone as existing healthy replicas.</p>
</div>
<div class="paragraph">
<p>When this setting is un-checked, Longhorn Manager will forbid scheduling new replicas of a volume to the nodes in the same zone as existing healthy replicas.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Nodes that don&#8217;t belong to any zone will be treated as if they belong to the same zone.</p>
</li>
<li>
<p>SUSE Storage relies on label <code>topology.kubernetes.io/zone=&lt;Zone name of the node&gt;</code> in the Kubernetes node object to identify the zone.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_replica_disk_level_soft_anti_affinity"><a class="anchor" href="#_replica_disk_level_soft_anti_affinity"></a>Replica Disk Level Soft Anti-Affinity</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>true</code></p>
</div>
<div class="paragraph">
<p>When this setting is checked, the Longhorn Manager will allow scheduling new replicas of a volume to the same disks as existing healthy replicas.</p>
</div>
<div class="paragraph">
<p>When this setting is un-checked, Longhorn Manager will forbid scheduling new replicas of a volume to the same disks as existing healthy replicas.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Even if the setting is "true" and disk sharing is allowed, SUSE Storage will seek to use a different disk if possible, even if on the same node.</p>
</li>
<li>
<p>This setting is superseded if replicas are forbidden to share a zone or a node by either of the other Soft Anti-Affinity settings.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_replica_auto_balance"><a class="anchor" href="#_replica_auto_balance"></a>Replica Auto Balance</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>disabled</code></p>
</div>
<div class="paragraph">
<p>Enable this setting automatically rebalances replicas when discovered an available node.</p>
</div>
<div class="paragraph">
<p>The available global options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>disabled</code>. This is the default option. No replica auto-balance will be done.</p>
</li>
<li>
<p><code>least-effort</code>. This option instructs SUSE Storage to balance replicas for minimal redundancy.</p>
</li>
<li>
<p><code>best-effort</code>. This option instructs SUSE Storage try to balancing replicas for even redundancy.
SUSE Storage does not forcefully re-schedule the replicas to a zone that does not have enough nodes
to support even balance. Instead, SUSE Storage will re-schedule to balance at the node level.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>SUSE Storage also supports customizing for individual volume. The setting can be specified in UI or with Kubernetes manifest volume.spec.replicaAutoBalance, this overrules the global setting.
The available volume spec options are:</p>
</div>
<div class="paragraph">
<p><strong>Default value</strong>: <code>ignored</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ignored</code>. This is the default option that instructs SUSE Storage to inherit from the global setting.</p>
</li>
<li>
<p><code>disabled</code>. This option instructs SUSE Storage no replica auto-balance should be done."</p>
</li>
<li>
<p><code>least-effort</code>. This option instructs SUSE Storage to balance replicas for minimal redundancy.</p>
</li>
<li>
<p><code>best-effort</code>. This option instructs SUSE Storage to try balancing replicas for even redundancy.
SUSE Storage does not forcefully re-schedule the replicas to a zone that does not have enough nodes
to support even balance. Instead, SUSE Storage will re-schedule to balance at the node level.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_replica_auto_balance_disk_pressure_threshold"><a class="anchor" href="#_replica_auto_balance_disk_pressure_threshold"></a>Replica Auto Balance Disk Pressure Threshold (%)</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>90</code></p>
</div>
<div class="paragraph">
<p>Percentage of currently used storage that triggers automatic replica rebalancing.</p>
</div>
<div class="paragraph">
<p>When the threshold is reached, SUSE Storage automatically rebuilds replicas that are under disk pressure on another disk within the same node.</p>
</div>
<div class="paragraph">
<p>To disable this setting, set the value to <strong>0</strong>.</p>
</div>
<div class="paragraph">
<p>This setting takes effect only when the following conditions are met:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_replica_auto_balance">Replica Auto Balance</a> is set to <strong>best-effort</strong>. To disable this setting (disk pressure threshold) when replica auto-balance is set to best-effort, set the value of this setting to <strong>0</strong>.</p>
</li>
<li>
<p>At least one other disk on the node has sufficient available space.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This setting is not affected by <a href="#_replica_node_level_soft_anti_affinity">Replica Node Level Soft Anti_Affinity</a>, which can prevent SUSE Storage from rebuilding a replica on the same node. Regardless of that setting&#8217;s value, this setting still allows SUSE Storage to attempt replica rebuilding on a different disk on the same node for migration purposes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_storage_minimal_available_percentage"><a class="anchor" href="#_storage_minimal_available_percentage"></a>Storage Minimal Available Percentage</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>25</code></p>
</div>
<div class="paragraph">
<p>This setting controls the minimum free space that must remain on a disk, based on its <strong>Storage Maximum</strong>, before SUSE Storage can schedule a new replica.</p>
</div>
<div class="paragraph">
<p>By default, SUSE Storage ensures that at least <strong>25%</strong> of the disk&#8217;s total capacity remains free. If adding a replica would reduce the available space below this limit, SUSE Storage temporarily marks the disk as unavailable for scheduling until sufficient space is freed.</p>
</div>
<div class="paragraph">
<p>This safeguard helps protect your disks from becoming too full, which can cause performance issues or storage failures. Maintaining a buffer of free space helps keep the system stable and ensures room for unexpected storage needs.</p>
</div>
<div class="paragraph">
<p>See <a href="../nodes/multiple-disks.html#_configuration" class="xref page">Multiple Disks Support</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="_storage_over_provisioning_percentage"><a class="anchor" href="#_storage_over_provisioning_percentage"></a>Storage Over Provisioning Percentage</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>100</code></p>
</div>
<div class="paragraph">
<p>The over-provisioning percentage defines the amount of storage that can be allocated relative to the hard drive&#8217;s capacity.</p>
</div>
<div class="paragraph">
<p>Adjusting this setting allows the Longhorn Manager to schedule new replicas on a disk as long as the combined size of all replicas remains within the permitted over-provisioning percentage of the usable disk space. The usable disk space is calculated as <strong>Storage Maximum</strong> minus <strong>Storage Reserved</strong>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Replicas might consume more space than a volume&#8217;s nominal size due to snapshot data. To reclaim disk space, delete snapshots that are no longer needed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>Suppose a disk has a <strong>Storage Maximum</strong> of 100 GiB and <strong>Storage Reserved</strong> of 10 GiB, resulting in 90 GiB of usable capacity.</p>
</div>
<div class="paragraph">
<p>If the Storage Over-Provisioning Percentage is set to 200%, the maximum allowed Storage Scheduled is 180 GiB (200% of 90 GiB).</p>
</div>
<div class="paragraph">
<p>This means the Longhorn Manager can continue scheduling replicas to this disk until the total scheduled size reaches 180 GiB, even though the actual usable space is only 90 GiB.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_storage_reserved_percentage_for_default_disk"><a class="anchor" href="#_storage_reserved_percentage_for_default_disk"></a>Storage Reserved Percentage For Default Disk</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>30</code></p>
</div>
<div class="paragraph">
<p>The reserved percentage specifies the percentage of disk space that will not be allocated to the default disk on each new Longhorn node.</p>
</div>
<div class="paragraph">
<p>This setting only affects the default disk of a new adding node or nodes when installing SUSE Storage.</p>
</div>
</div>
<div class="sect2">
<h3 id="_allow_empty_node_selector_volume"><a class="anchor" href="#_allow_empty_node_selector_volume"></a>Allow Empty Node Selector Volume</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>true</code></p>
</div>
<div class="paragraph">
<p>This setting allows replica of the volume without node selector to be scheduled on node with tags.</p>
</div>
</div>
<div class="sect2">
<h3 id="_allow_empty_disk_selector_volume"><a class="anchor" href="#_allow_empty_disk_selector_volume"></a>Allow Empty Disk Selector Volume</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>true</code></p>
</div>
<div class="paragraph">
<p>This setting allows replica of the volume without disk selector to be scheduled on disk with tags.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_danger_zone"><a class="anchor" href="#_danger_zone"></a>Danger Zone</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Starting with SUSE Storage v1.6.0, SUSE Storage allows you to modify the Danger Zone settings without the need to wait for all volumes to become detached. Your preferred settings are immediately applied in the following scenarios:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>No attached volumes: When no volumes are attached before the settings are configured, the setting changes are immediately applied.</p>
</li>
<li>
<p>Engine image upgrade (live upgrade): During a live upgrade, which involves creating a new Instance Manager pod, the setting changes are immediately applied to the new pod.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Settings are synchronized hourly. When all volumes are detached, the settings in the following table are immediately applied and the system-managed components (for example, Instance Manager, CSI Driver, and engine images) are restarted.</p>
</div>
<div class="paragraph">
<p>If you do not detach all volumes before the settings are synchronized, the settings are not applied and you must reconfigure the same settings after detaching the remaining volumes. You can view the list of unapplied settings in the <strong>Danger Zone</strong> section of the SUSE Storage UI, or run the following CLI command to check the value of the field <code>APPLIED</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">  ~# kubectl -n longhorn-system get setting priority-class
  NAME             VALUE               APPLIED   AGE
  priority-class   longhorn-critical   true      3h26m</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Setting</th>
<th class="tableblock halign-left valign-top">Additional Information</th>
<th class="tableblock halign-left valign-top">Affected Components</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_kubernetes_taint_toleration">Kubernetes Taint Toleration</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../nodes/taints-tolerations.html" class="xref page">Taints and Tolerations</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System-managed components</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_priority_class">Priority Class</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../nodes/priority-class.html" class="xref page">Priority Class</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System-managed components</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_system_managed_components_node_selector">System Managed Components Node Selector</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../nodes/node-selector.html" class="xref page">Node Selector</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System-managed components</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_storage_network">Storage Network</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="networking/storage-network.html" class="xref page">Storage Network</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instance Manager and Backing Image components</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_v1_data_engine">V1 Data Engine</a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instance Manager component</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_v2_data_engine">V2 Data Engine</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="v2-data-engine/quick-start-guide.html" class="xref page">V2 Data Engine (Experimental)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instance Manager component</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_guaranteed_instance_manager_cpu">Guaranteed Instance Manager CPU</a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instance Manager component</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For V1 and V2 Data Engine settings, you can disable the Data Engines only when all associated volumes are detached. For example, you can disable the V2 Data Engine only when all V2 volumes are detached (even when V1 volumes are still attached).</p>
</div>
<div class="sect2">
<h3 id="_v1_data_engine"><a class="anchor" href="#_v1_data_engine"></a>V1 Data Engine</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>true</code></p>
</div>
<div class="paragraph">
<p>This setting lets you enable the V1 Data Engine.</p>
</div>
</div>
<div class="sect2">
<h3 id="_v2_data_engine"><a class="anchor" href="#_v2_data_engine"></a>V2 Data Engine</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>false</code></p>
</div>
<div class="paragraph">
<p>This setting enable the V2 Data Engine, which is an experimental feature based on the Storage Performance Development Kit (SPDK). The V2 Data Engine is an experimental feature and should not be used in production environments. For more information, see <a href="#longhorn-system/v2-data-engine.adoc" class="xref unresolved">V2 Data Engine (Experimental)</a>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>DO NOT CHANGE THIS SETTING WITH ATTACHED VOLUMES. SUSE Storage will block this setting update when there are attached volumes.</p>
</li>
<li>
<p>When the V2 Data Engine is enabled, each instance-manager pod utilizes 1 CPU core. This high CPU usage is attributed to the Storage Performance Development Kit (SPDK) target daemon running within each instance-manager pod. The SPDK target daemon is responsible for handling input/output (IO) operations and requires intensive polling. As a result, it consumes 100% of a dedicated CPU core to efficiently manage and process the IO requests, ensuring optimal performance and responsiveness for storage operations.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_concurrent_replica_rebuild_per_node_limit"><a class="anchor" href="#_concurrent_replica_rebuild_per_node_limit"></a>Concurrent Replica Rebuild Per Node Limit</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>5</code></p>
</div>
<div class="paragraph">
<p>This setting controls how many replicas on a node can be rebuilt simultaneously.</p>
</div>
<div class="paragraph">
<p>Typically, SUSE Storage can block the replica starting once the current rebuilding count on a node exceeds the limit. But when the value is 0, it means disabling the replica rebuilding.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>The old setting "Disable Replica Rebuild" is replaced by this setting.</p>
</li>
<li>
<p>Different from relying on replica starting delay to limit the concurrent rebuilding, if the rebuilding is disabled, replica object replenishment will be directly skipped.</p>
</li>
<li>
<p>When the value is 0, the eviction and data locality feature won&#8217;t work. But this shouldn&#8217;t have any impact to any current replica rebuild and backup restore.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_concurrent_backing_image_replenish_per_node_limit"><a class="anchor" href="#_concurrent_backing_image_replenish_per_node_limit"></a>Concurrent Backing Image Replenish Per Node Limit</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>5</code></p>
</div>
<div class="paragraph">
<p>This setting controls how many backing image copies on a node can be replenished simultaneously.</p>
</div>
<div class="paragraph">
<p>Typically, SUSE Storage can block the backing image copy starting once the current replenishing count on a node exceeds the limit. But when the value is 0, it means disabling the backing image replenish.</p>
</div>
</div>
<div class="sect2">
<h3 id="_kubernetes_taint_toleration"><a class="anchor" href="#_kubernetes_taint_toleration"></a>Kubernetes Taint Toleration</h3>
<div class="paragraph">
<p><strong>Example</strong>: <code>nodetype=storage:NoSchedule</code></p>
</div>
<div class="paragraph">
<p>If you want to dedicate nodes to just store SUSE Storage replicas and reject other general workloads, you can set tolerations for <strong>all</strong> SUSE Storage components and add taints to the nodes dedicated for storage.</p>
</div>
<div class="paragraph">
<p>Longhorn system contains user deployed components (e.g, Longhorn manager, Longhorn driver, Longhorn UI) and system managed components (e.g, instance manager, engine image, CSI driver, etc.)
This setting only sets taint tolerations for system managed components.
Depending on how you deployed Longhorn, you need to set taint tolerations for user deployed components in Helm chart or deployment YAML file.</p>
</div>
<div class="paragraph">
<p>To apply the modified toleration setting immediately, ensure that all Longhorn volumes are detached. When volumes are in use, SUSE Storage components are not restarted, and you need to reconfigure the settings after detaching the remaining volumes; otherwise, you can wait for the setting change to be reconciled in an hour.
We recommend setting tolerations during SUSE Storage deployment because the Longhorn system cannot be operated during the update.</p>
</div>
<div class="paragraph">
<p>Multiple tolerations can be set here, and these tolerations are separated by semicolon. For example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>key1=value1:NoSchedule; key2:NoExecute</code></p>
</li>
<li>
<p><code>:</code> this toleration tolerates everything because an empty key with operator <code>Exists</code> matches all keys, values and effects</p>
</li>
<li>
<p><code>key1=value1:</code>  this toleration has empty effect. It matches all effects with key <code>key1</code>
See <a href="../nodes/taints-tolerations.html" class="xref page">Taint Toleration</a> for details.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_priority_class"><a class="anchor" href="#_priority_class"></a>Priority Class</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>longhorn-critical</code></p>
</div>
<div class="paragraph">
<p>By default, SUSE Storage workloads run with the same priority as other pods in the cluster, meaning in cases of node pressure, such as a node running out of memory, SUSE Storage workloads will be at the same priority as other Pods for eviction.</p>
</div>
<div class="paragraph">
<p>The Priority Class setting will specify a Priority Class for the SUSE Storage workloads to run as. This can be used to set the priority for SUSE Storage workloads higher so that they will not be the first to be evicted when a node is under pressure.</p>
</div>
<div class="paragraph">
<p>Longhorn system contains user deployed components (e.g, Longhorn manager, Longhorn driver, Longhorn UI) and system managed components (e.g, instance manager, engine image, CSI driver, etc.).</p>
</div>
<div class="paragraph">
<p>Note that this setting only sets Priority Class for system managed components.
Depending on how you deployed SUSE Storage, you need to set Priority Class for user deployed components in Helm chart or deployment YAML file.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This setting should only be changed after detaching all Longhorn volumes, as the Longhorn system components will be restarted to apply the setting. The Priority Class update will take a while, and users cannot operate Longhorn system during the update. Hence, it&#8217;s recommended to set the Priority Class during SUSE Storage deployment.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See <a href="../nodes/priority-class.html" class="xref page">Priority Class</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="_system_managed_components_node_selector"><a class="anchor" href="#_system_managed_components_node_selector"></a>System Managed Components Node Selector</h3>
<div class="paragraph">
<p><strong>Example</strong>: <code>label-key1:label-value1;label-key2:label-value2</code></p>
</div>
<div class="paragraph">
<p>If you want to restrict SUSE Storage components to only run on a particular set of nodes, you can set node selector for all SUSE Storage components.</p>
</div>
<div class="paragraph">
<p>Longhorn system contains user deployed components (e.g, Longhorn manager, Longhorn driver, Longhorn UI) and system managed components (e.g, instance manager, engine image, CSI driver, etc.)
You need to set node selector for both of them. This setting only sets node selector for system managed components. Follow the instruction at <a href="../nodes/node-selector.html" class="xref page">Node Selector</a> to change node selector.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Since all SUSE Storage components will be restarted, the Longhorn system is unavailable temporarily.
To apply a setting immediately, ensure that all Longhorn volumes are detached. When volumes are in use, SUSE Storage components are not restarted, and you need to reconfigure the settings after detaching the remaining volumes; otherwise, you can wait for the setting change to be reconciled in an hour.
Don&#8217;t operate the Longhorn system while node selector settings are updated and SUSE Storage components are being restarted.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_kubernetes_cluster_autoscaler_enabled_experimental"><a class="anchor" href="#_kubernetes_cluster_autoscaler_enabled_experimental"></a>Kubernetes Cluster Autoscaler Enabled (Experimental)</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>false</code></p>
</div>
<div class="paragraph">
<p>Setting the Kubernetes Cluster Autoscaler Enabled to <code>true</code> allows SUSE Storage to unblock the Kubernetes Cluster Autoscaler scaling.</p>
</div>
<div class="paragraph">
<p>See <a href="../high-availability/kubernetes-cluster-autoscaler.html" class="xref page">Kubernetes Cluster Autoscaler Support</a> for details.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Replica rebuilding could be expensive because nodes with reusable replicas could get removed by the Kubernetes Cluster Autoscaler.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_storage_network"><a class="anchor" href="#_storage_network"></a>Storage Network</h3>
<div class="paragraph">
<p><strong>Example</strong>: <code>kube-system/demo-192-168-0-0</code></p>
</div>
<div class="paragraph">
<p>The storage network uses Multus NetworkAttachmentDefinition to segregate the in-cluster data traffic from the default Kubernetes cluster network.</p>
</div>
<div class="paragraph">
<p>By default, the this setting applies only to RWO (Read-Write-Once) volumes. For RWX (Read-Write-Many) volumes, see <a href="#_storage_network_for_rwx_volume_enabled">Storage Network for RWX Volume Enabled</a> setting.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This setting should change after all Longhorn volumes are detached because some pods that run Longhorn system components are recreated to apply the setting. When all volumes are detached, SUSE Storage attempts to restart all Instance Manager and Backing Image Manager pods immediately. When volumes are in use, SUSE Storage components are not restarted, and you need to reconfigure the settings after detaching the remaining volumes; otherwise, you can wait for the setting change to be reconciled in an hour.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See <a href="networking/storage-network.html" class="xref page">Storage Network</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="_storage_network_for_rwx_volume_enabled"><a class="anchor" href="#_storage_network_for_rwx_volume_enabled"></a>Storage Network For RWX Volume Enabled</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>false</code></p>
</div>
<div class="paragraph">
<p>This setting allows SUSE Storage to use the storage network for RWX volumes.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This setting should change after all SUSE Storage RWX volumes are detached because some pods that run SUSE Storage components are recreated to apply the setting. When all RWX volumes are detached, SUSE Storage attempts to restart all CSI plugin pods immediately. When volumes are in use, pods that run SUSE Storage components are not restarted, so the settings must be reconfigured after the remaining volumes are detached. If you are unable to manually reconfigure the settings, you can opt to wait because settings are synchronized hourly.</p>
</div>
<div class="paragraph">
<p>The RWX volumes are mounted with the storage network within the CSI plugin pod container network namespace. As a result, restarting the CSI plugin pod may lead to unresponsive RWX volume mounts. When this occurs, you must restart the workload pod to re-establish the mount connection. Alternatively, you can enable the <a href="#_automatically_delete_workload_pod_when_the_volume_is_detached_unexpectedly">Automatically Delete Workload Pod when The Volume Is Detached Unexpectedly</a> setting.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For more information, see <a href="networking/storage-network.html" class="xref page">Storage Network</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_remove_snapshots_during_filesystem_trim"><a class="anchor" href="#_remove_snapshots_during_filesystem_trim"></a>Remove Snapshots During Filesystem Trim</h3>
<div class="paragraph">
<p><strong>Example</strong>: <code>false</code></p>
</div>
<div class="paragraph">
<p>This setting allows Longhorn filesystem trim feature to automatically mark the latest snapshot and its ancestors as removed and stops at the snapshot containing multiple children.</p>
</div>
<div class="paragraph">
<p>Since Longhorn filesystem trim feature can be applied to the volume head and the followed continuous removed or system snapshots only.</p>
</div>
<div class="paragraph">
<p>Notice that trying to trim a removed files from a valid snapshot will do nothing but the filesystem will discard this kind of in-memory trimmable file info. Later on if you mark the snapshot as removed and want to retry the trim, you may need to unmount and remount the filesystem so that the filesystem can recollect the trimmable file info.</p>
</div>
<div class="paragraph">
<p>See <a href="../volumes/trim-filesystem.html" class="xref page">Trim Filesystem</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="_guaranteed_instance_manager_cpu"><a class="anchor" href="#_guaranteed_instance_manager_cpu"></a>Guaranteed Instance Manager CPU</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>{"v1":"12","v2":"12"}</code></p>
</div>
<div class="paragraph">
<p>Percentage of the total allocatable CPU resources on each node to reserve for each instance manager pod. For example, a value of <code>10</code> means 10% of the total CPU on a node will be allocated to each instance manager pod on that node. This helps maintain engine and replica stability during periods of high node workload.</p>
</div>
<div class="paragraph">
<p>In order to prevent unexpected volume instance (engine/replica) crash as well as guarantee a relative acceptable IO performance, you can use the following formula to calculate a value for this setting:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Guaranteed Instance Manager CPU = The estimated max Longhorn volume engine and replica count on a node * 0.1 / The total allocatable CPUs on the node * 100.</pre>
</div>
</div>
<div class="paragraph">
<p>The result of above calculation doesn&#8217;t mean that&#8217;s the maximum CPU resources the SUSE Storage workloads require. To fully exploit the Longhorn volume input or output performance, you can allocate or guarantee more CPU resources via this setting.</p>
</div>
<div class="paragraph">
<p>If it&#8217;s hard to estimate the usage now, you can leave it with the default value, which is 12%. Then you can tune it when there is no running workload using Longhorn volumes.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Value 0 means unsetting CPU requests for instance manager pods.</p>
</li>
<li>
<p>Considering the possible new instance manager pods in the further system upgrade, this float value ranges from 0 to 40.</p>
</li>
<li>
<p>One more set of instance manager pods may need to be deployed when the Longhorn system is upgraded. If current available CPUs of the nodes are not enough for the new instance manager pods, you need to detach the volumes using the oldest instance manager pods so that SUSE Storage can clean up the old pods automatically and release the CPU resources. And the new pods with the latest instance manager image will be launched then.</p>
</li>
<li>
<p>This global setting will be ignored for a node if the field "InstanceManagerCPURequest" on the node is set.</p>
</li>
<li>
<p>For the v2 Data Engine, the Storage Performance Development Kit (SPDK) target daemon inside each instance manager pod uses one or more dedicated CPU cores. Setting a minimum CPU usage is critical to maintaining stability during periods of high node load.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_disable_snapshot_purge"><a class="anchor" href="#_disable_snapshot_purge"></a>Disable Snapshot Purge</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>false</code></p>
</div>
<div class="paragraph">
<p>When set to true, temporarily prevent all attempts to purge volume snapshots.</p>
</div>
<div class="paragraph">
<p>SUSE Storage typically purges snapshots during replica rebuilding and user-initiated snapshot deletion. While purging,
SUSE Storage coalesces unnecessary snapshots into their newer counterparts, freeing space consumed by historical data.</p>
</div>
<div class="paragraph">
<p>Allowing snapshot purging during normal operations is ideal, but this process temporarily consumes additional disk
space. If insufficient disk space prevents the process from continuing, consider temporarily disabling purging while data is moved to other disks.</p>
</div>
</div>
<div class="sect2">
<h3 id="_auto_cleanup_snapshot_when_delete_backup"><a class="anchor" href="#_auto_cleanup_snapshot_when_delete_backup"></a>Auto Cleanup Snapshot When Delete Backup</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>false</code></p>
</div>
<div class="paragraph">
<p>When set to true, the snapshot used by the backup will be automatically cleaned up when the backup is deleted.</p>
</div>
</div>
<div class="sect2">
<h3 id="_instance_manager_pod_liveness_probe_timeout"><a class="anchor" href="#_instance_manager_pod_liveness_probe_timeout"></a>Instance Manager Pod Liveness Probe Timeout</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>10</code> (in seconds)</p>
</div>
<div class="paragraph">
<p>The setting specifies the timeout for the instance manager pod liveness probe. The default value is 10 seconds.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When applying the setting, SUSE Storage will try to restart all instance-manager pods if all volumes are detached and eventually restart the instance manager pod without instances running on the instance manager.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_data_engine_cpu_mask"><a class="anchor" href="#_data_engine_cpu_mask"></a>Data Engine CPU Mask</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>{"v2":"true"}</code></p>
</div>
<div class="paragraph">
<p>This setting applies only to the V2 Data Engine. It enables hugepages for the Storage Performance Development Kit (SPDK) target daemon. If this setting is disabled, legacy memory is used. The allocation size for this memory is set through the Data Engine Memory Size setting.</p>
</div>
</div>
<div class="sect2">
<h3 id="_data_engine_hugepage_enabled"><a class="anchor" href="#_data_engine_hugepage_enabled"></a>Data Engine Hugepage Enabled</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>{"v2":"2048"}</code></p>
</div>
<div class="paragraph">
<p>This setting applies only to the V2 Data Engine and specifies the memory size, in MiB, allocated to the Storage Performance Development Kit (SPDK) target daemon.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When Hugepage is enabled, this value defines the Hugepage size.</p>
</li>
<li>
<p>When Hugepage is disabled, legacy memory is used.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_data_engine_interrupt_mode_enabled"><a class="anchor" href="#_data_engine_interrupt_mode_enabled"></a>Data Engine Interrupt Mode Enabled</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>{"v2":"false"}</code></p>
</div>
<div class="paragraph">
<p>It applies only to the <strong>V2 Data Engine</strong>. It controls whether the Storage Performance Development Kit (SPDK) target daemon runs in <strong>interrupt mode</strong> or the default <strong>polling mode</strong>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>true</code>: It enables interrupt mode, reducing CPU usage by handling I/O through interrupts.</p>
</li>
<li>
<p><code>false</code>: It keeps polling mode enabled for maximum performance and lowest latency.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>DO NOT CHANGE THIS SETTING WITH ATTACHED VOLUMES. SUSE Storage will block this setting update when there are attached v2 volumes.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_log_path_2"><a class="anchor" href="#_log_path_2"></a>Log Path</h3>
<div class="paragraph">
<p><strong>Default value</strong>: <code>/var/lib/longhorn/logs/</code></p>
</div>
<div class="paragraph">
<p>Specifies the directory on the host where SUSE Storage stores log files for the instance manager pod. Currently, it is only used for instance manager pods in the v2 data engine.</p>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="customize-default-settings.html">Customize Default Settings</a></span>
  <span class="next"><a href="v2-data-engine/features/features.html">V2 Data Engine Features</a></span>
</nav>
</article>
  </div>
</main>
</div>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../_/js/vendor/lunr-languages.js"></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="100" data-stylesheet="../../../../_/css/search.css"></script>
<script async src="../../../../search-index.js"></script>
<script src="../../../../_/js/vendor/langSelection.js"></script>
<script async src="../../../../_/js/vendor/tabs.js"></script>


<script src="../../../../_/js/CNLanguageSwitcher.js"></script>
  </body>
</html>
