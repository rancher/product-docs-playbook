<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configuration File :: Rancher product documentation</title>
    <link rel="canonical" href="https://documentation.suse.com/cloudnative/virtualization/v1.5/en/installation-setup/config/configuration-file.html">
    <link rel="prev" href="../methods/pxe-boot-install.html">
    <link rel="next" href="update-configuration.html">
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../../../../../_/css/site.css">
<meta http-equiv="last-modified" content="2025-07-16"/>
<link rel="stylesheet" href="../../../../../_/css/search.css">
<link rel="icon" href="../../../../../_/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="../../../../../_/css/font-styles.css">
<link rel="stylesheet" href="../../../../../_/fonts/css/all.css">
<link rel="stylesheet" href="../../../../../_/css/site-extra.css">
<link rel="stylesheet" href="../../../../../_/css/vendor/tabs.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=SUSE:wght@100..800&display=swap&family=SUSE+Mono:ital,wght@0,100..800;1,100..800" rel="stylesheet">
<link href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" rel="stylesheet">
<!-- <link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto&display=swap" rel="stylesheet"> -->
<link rel="stylesheet" href="../../../../../_/css/vendor/light.css">
<script src="/docserv/res/lightheaded/analytics.js" type="text/javascript"></script>

<script type="module">
  import { defineCustomElements, setAssetPath } from 'https://d12w0ryu9hjsx8.cloudfront.net/shared-header/1.5/shared-header.esm.js';
  defineCustomElements();
  setAssetPath("https://d12w0ryu9hjsx8.cloudfront.net/shared-header/1.5/assets");
</script>    <script>var uiRootPath = '../../../../../_'</script>
  </head>
  <body class="article">
<script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs'; mermaid.initialize({"startOnLoad":true});</script><!-- Canonical link -->
<link href="https://documentation.suse.com/cloudnative/virtualization/v1.5/en/installation-setup/config/configuration-file.html" rel="canonical"/>

<!-- Default English link -->
<link href="https://documentation.suse.com/cloudnative/virtualization/v1.4/en/installation-setup/config/configuration-file.html" hreflang="x-default" rel="alternate"/>

<!-- Link for the currently processed page -->
<link href="https://documentation.suse.com/cloudnative/virtualization/v1.4/en/installation-setup/config/configuration-file.html" hrefLang="en-US" rel="alternate" />











<shared-header language="en" languages='{
"en": { "label": "English", "url": "https://documentation.suse.com/en-us/" },
"de": { "label": "Deutsch", "url": "https://documentation.suse.com/de-de/" },
"fr": { "label": "Français", "url": "https://documentation.suse.com/fr-fr/" },
"es": { "label": "Español", "url": "https://documentation.suse.com/es-es/" },
"zh_CN": { "label": "中文", "url": "https://documentation.suse.com/zh-cn/" },
"pt_BR": { "label": "Português Brasileiro", "url": "https://documentation.suse.com/pt-br/" }
}'>
</shared-header>

<!-- Leaving as a comment, I expect it will be required again next year.
<a target=_blank"" class="survey-link" href="https://suselinux.fra1.qualtrics.com/jfe/form/SV_bEiGZbUNzLD8Tcy"> Documentation survey </a>
--><div class="body">
<div class="nav-container" data-component="virtualization" data-version="v1.4">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title">SUSE® Virtualization</h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Introduction</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../introduction/overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../introduction/deploy-ha-cluster.html">Deploy a High-Availability Cluster</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../introduction/deploy-singlenode-cluster.html">Deploy a Single-Node Cluster</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../introduction/glossary.html">Glossary</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../introduction/document-conventions.html">Document Conventions</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Installation and Setup</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../requirements.html">Hardware and Network Requirements</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Installation Media</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../media/net-install.html">Net Install ISO</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../media/install-binaries-mode.html">Install Binaries Only</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Installation Methods</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../methods/iso-install.html">ISO Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../methods/usb-install.html">USB Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../methods/pxe-boot-install.html">PXE Boot Installation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Configuration</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="configuration-file.html">Configuration File</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="update-configuration.html">Update the Configuration After Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="settings.html">Settings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="cloudinitcrd.html">CloudInit CRD</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../management-address.html">Management Address</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../external-disk.html">External Disk Support</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authentication.html">Authentication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../airgap.html">Air-Gapped Environment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../single-node-clusters.html">Single-Node Clusters</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Upgrades</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrades/upgrades.html">Upgrades</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrades/v1-1-2-to-v1-2-0.html">Upgrade from v1.1.2 to v1.2.0 (not recommended)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrades/v1-2-0-to-v1-2-1.html">Upgrade from v1.1.2/v1.1.3/v1.2.0 to v1.2.1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrades/v1-2-1-to-v1-2-2.html">Upgrade from v1.2.1 to v1.2.2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrades/v1-2-2-to-v1-3-1.html">Upgrade from v1.2.2/v1.3.0 to v1.3.1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrades/v1-3-1-to-v1-3-2.html">Upgrade from v1.3.1 to v1.3.2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrades/v1-3-2-to-v1-4-0.html">Upgrade from v1.3.2 to v1.4.0</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrades/v1-4-0-to-v1-4-1.html">Upgrade from v1.4.0 to v1.4.1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrades/v1-4-1-to-v1-4-2.html">Upgrade from v1.4.1 to v1.4.2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrades/v1-4-1-to-v1-4-3.html">Upgrade from v1.4.1 or v1.4.2 to v1.4.3</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrades/troubleshooting.html">Troubleshooting</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Hosts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../hosts/hosts.html">Host Management</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../hosts/witness-node.html">Witness Node</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../hosts/vgpu-support.html">vGPU Support</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Virtual Machines</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../virtual-machines/virtual-machines.html">Virtual Machines</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Virtual Machine Images</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../virtual-machines/vm-images/upload-image.html">Upload Images</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../virtual-machines/vm-images/custom-suse-images.html">Custom SUSE Virtual Machine Images</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../virtual-machines/vm-images/image-security.html">Image Security</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../virtual-machines/create-vm.html">Create a Virtual Machine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../virtual-machines/create-windows-vm.html">Create a Windows Virtual Machine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../virtual-machines/edit-vm.html">Edit a Virtual Machine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../virtual-machines/access-vm.html">Access to the Virtual Machine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../virtual-machines/clone-vm.html">Clone a Virtual Machine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../virtual-machines/backup-restore.html">Virtual Machine Backup, Snapshot &amp; Restore</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../virtual-machines/live-migration.html">Live Migration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../virtual-machines/hotplug-volume.html">Hot-Plug Volumes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../virtual-machines/resource-overcommit.html">Resource Overcommit</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../virtual-machines/cpu-pinning.html">CPU Pinning</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Storage</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Volumes</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../storage/volumes/create-volume.html">Create a Volume</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../storage/volumes/edit-volume.html">Edit a Volume</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../storage/volumes/clone-volume.html">Clone a Volume</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../storage/volumes/export-volume.html">Export a Volume to Image</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../storage/volumes/volume-snapshots.html">Volume Snapshots</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../storage/volumes/volume-security.html">Volume Security</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../storage/storageclass.html">StorageClass</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../storage/csidriver.html">Third-Party Storage Support</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../storage/longhorn-v2-data-engine.html">Longhorn V2 Data Engine</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Networking</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../networking/cluster-network.html">Cluster Network</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../networking/vm-network.html">VM Network</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../networking/deep-dive.html">Networking Deep Dive</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../networking/load-balancer.html">Load Balancer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../networking/ip-pool.html">IP Pool</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../networking/storage-network.html">Storage Network</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../networking/best-practices.html">Networking Best Practices</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Observability</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../observability/logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../observability/monitoring.html">Monitoring</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Add-ons</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../add-ons/add-ons.html">Add-ons</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../add-ons/harvester-seeder.html">Harvester Seeder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../add-ons/lvm-local-storage.html">Local Storage Support</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../add-ons/nvidia-driver-toolkit.html">NVIDIA Driver Toolkit</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../add-ons/pcidevices-controller.html">PCI Devices Controller</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../add-ons/rancher-vcluster.html">Rancher Manager (Experimental)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../add-ons/vm-dhcp-controller.html">VM DHCP Controller (Managed DHCP)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../add-ons/vm-import-controller.html">VM Import Controller</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Integrations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Rancher Integration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrations/rancher/rancher-integration.html">SUSE Rancher Prime Integration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrations/rancher/virtualization-management.html">Virtualization Management</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Node Driver</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../integrations/rancher/node-driver/node-driver.html">Harvester Node Driver</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../integrations/rancher/node-driver/rke1-cluster.html">Creating an RKE1 Kubernetes Cluster</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../integrations/rancher/node-driver/rke2-cluster.html">Creating an RKE2 Kubernetes Cluster</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../integrations/rancher/node-driver/k3s-cluster.html">Creating an K3s Kubernetes Cluster</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrations/rancher/cloud-provider.html">Harvester Cloud Provider</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrations/rancher/csi-driver.html">Harvester CSI Driver</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrations/rancher/resource-quota.html">Resource Quotas</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrations/rancher/rancher-terraform-provider.html">Rancher Terraform</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrations/rancher/import-vm.html">Import a Cluster Built on a SUSE® Virtualization VM</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrations/rancher/harvester-ui-extension.html">Harvester UI Extension</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../integrations/terraform/terraform-provider.html">Terraform Provider</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Troubleshooting</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../troubleshooting/faq.html">FAQ</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../troubleshooting/installation.html">Installation Issues</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../troubleshooting/operating-system.html">Operating System Issues</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../troubleshooting/cluster.html">Cluster Issues</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../troubleshooting/virtual-machines.html">Virtual Machine Issues</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../troubleshooting/monitoring.html">Monitoring Issues</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../troubleshooting/rancher.html">Rancher Issues</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Developer Content</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../developer/addon-development.html">Add-on Development Guide</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../api.html">API</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">SUSE® Virtualization</span>
    <span class="version">v1.4</span>
  </div>
  <ul class="components">
        <li class="component">
          <div class="title"><a href="../../../../../admission-controller/1.29/en/introduction.html">Admission Controller</a></div>
          <ul class="versions">
            <li class="version">
              <a href="../../../../../admission-controller/1.30/en/introduction.html">1.30-next</a>
            </li>
            <li class="version is-latest">
              <a href="../../../../../admission-controller/1.29/en/introduction.html">1.29</a>
            </li>
            <li class="version">
              <a href="../../../../../admission-controller/1.28/en/introduction.html">1.28</a>
            </li>
            <li class="version">
              <a href="../../../../../admission-controller/1.27/en/introduction.html">1.27</a>
            </li>
            <li class="version">
              <a href="../../../../../admission-controller/1.26/en/introduction.html">1.26</a>
            </li>
            <li class="version">
              <a href="../../../../../admission-controller/1.25/en/introduction.html">1.25</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../../cluster-api/latest/en/index.html">Cluster API</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../../cluster-api/latest/en/index.html">Latest</a>
            </li>
            <li class="version">
              <a href="../../../../../cluster-api/v0.24/en/index.html">0.24</a>
            </li>
            <li class="version">
              <a href="../../../../../cluster-api/v0.23/en/index.html">0.23</a>
            </li>
            <li class="version">
              <a href="../../../../../cluster-api/v0.22/en/index.html">0.22</a>
            </li>
            <li class="version">
              <a href="../../../../../cluster-api/v0.21/en/index.html">0.21</a>
            </li>
            <li class="version">
              <a href="../../../../../cluster-api/v0.20/en/index.html">0.20</a>
            </li>
            <li class="version">
              <a href="../../../../../cluster-api/v0.19/en/index.html">0.19</a>
            </li>
            <li class="version">
              <a href="../../../../../cluster-api/v0.18/en/index.html">0.18</a>
            </li>
            <li class="version">
              <a href="../../../../../cluster-api/v0.17/en/index.html">0.17</a>
            </li>
            <li class="version">
              <a href="../../../../../cluster-api/v0.16/en/index.html">0.16</a>
            </li>
            <li class="version">
              <a href="../../../../../cluster-api/v0.15/en/index.html">0.15</a>
            </li>
            <li class="version">
              <a href="../../../../../cluster-api/v0.14/en/index.html">0.14</a>
            </li>
            <li class="version">
              <a href="../../../../../cluster-api/v0.13/en/index.html">0.13</a>
            </li>
            <li class="version">
              <a href="../../../../../cluster-api/v0.12/en/index.html">0.12</a>
            </li>
            <li class="version">
              <a href="../../../../../cluster-api/v0.11/en/index.html">0.11</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../../continuous-delivery/v0.12/en/index.html">Continuous Delivery</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../../continuous-delivery/v0.12/en/index.html">0.12</a>
            </li>
            <li class="version">
              <a href="../../../../../continuous-delivery/v0.11/en/index.html">0.11</a>
            </li>
            <li class="version">
              <a href="../../../../../continuous-delivery/v0.10/en/index.html">0.10</a>
            </li>
            <li class="version">
              <a href="../../../../../continuous-delivery/v0.9/en/index.html">0.9</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../../k3s/latest/en/introduction.html">K3s</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../../k3s/latest/en/introduction.html">Latest</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../../os-manager/next/en/index.html">OS Manager</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../../os-manager/next/en/index.html">Next</a>
            </li>
            <li class="version">
              <a href="../../../../../os-manager/latest/en/index.html">Latest</a>
            </li>
            <li class="version">
              <a href="../../../../../os-manager/1.7/en/index.html">1.7</a>
            </li>
            <li class="version">
              <a href="../../../../../os-manager/1.6/en/index.html">1.6</a>
            </li>
            <li class="version">
              <a href="../../../../../os-manager/1.5/en/index.html">1.5</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../../rke2/latest/en/introduction.html">RKE2</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../../rke2/latest/en/introduction.html">Latest</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../../suse-observability/latest/en/classic.html">SUSE Observability</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../../suse-observability/latest/en/classic.html">Latest</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../../rancher-manager/latest/en/about-rancher/what-is-rancher.html">SUSE® Rancher Manager</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../../rancher-manager/latest/en/about-rancher/what-is-rancher.html">latest</a>
            </li>
            <li class="version">
              <a href="../../../../../rancher-manager/v2.12/en/about-rancher/what-is-rancher.html">v2.12</a>
            </li>
            <li class="version">
              <a href="../../../../../rancher-manager/v2.11/en/about-rancher/what-is-rancher.html">v2.11</a>
            </li>
            <li class="version">
              <a href="../../../../../rancher-manager/v2.10/en/about-rancher/what-is-rancher.html">v2.10</a>
            </li>
            <li class="version">
              <a href="../../../../../rancher-manager/v2.9/en/about-rancher/what-is-rancher.html">v2.9</a>
            </li>
            <li class="version">
              <a href="../../../../../rancher-manager/v2.8/en/about-rancher/what-is-rancher.html">v2.8</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../../security/5.4/en/overview.html">SUSE® Security</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../../security/5.4/en/overview.html">5.4</a>
            </li>
            <li class="version">
              <a href="../../../../../security/5.3/en/overview.html">5.3</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../../storage/latest/en/longhorn-documentation.html">SUSE® Storage</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../../storage/latest/en/longhorn-documentation.html">Latest</a>
            </li>
            <li class="version">
              <a href="../../../../../storage/1.11/en/longhorn-documentation.html">1.11 (Dev)</a>
            </li>
            <li class="version">
              <a href="../../../../../storage/1.10/en/longhorn-documentation.html">1.10 (Dev)</a>
            </li>
            <li class="version">
              <a href="../../../../../storage/1.9/en/longhorn-documentation.html">1.9 (Latest)</a>
            </li>
            <li class="version">
              <a href="../../../../../storage/1.8/en/longhorn-documentation.html">1.8</a>
            </li>
          </ul>
        </li>
        <li class="component is-current">
          <div class="title"><a href="../../../../v1.5/en/introduction/overview.html">SUSE® Virtualization</a></div>
          <ul class="versions">
            <li class="version">
              <a href="../../../../v1.6/en/introduction/overview.html">v1.6 (Dev)</a>
            </li>
            <li class="version is-latest">
              <a href="../../../../v1.5/en/introduction/overview.html">v1.5 (Latest)</a>
            </li>
            <li class="version is-current">
              <a href="../../introduction/overview.html">v1.4</a>
            </li>
            <li class="version">
              <a href="../../../../v1.3/en/introduction/overview.html">v1.3</a>
            </li>
          </ul>
        </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
<ul>
    <li>
      <a href="https://documentation.suse.com/" title="documentation.suse.com" aria-label="SUSE Documentation Home">Documentation Home</a>
    </li>
    <li>
      <a href="https://documentation.suse.com/cloudnative/virtualization" title="SUSE Virtualization" aria-label="SUSE Documentation - SUSE Virtualization">
        SUSE Virtualization
      </a>
    </li>
      <li>
          Installation and Setup
      </li>
  </ul>
</nav><div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">v1.4</button>
  <div class="version-menu">
    <a class="version" href="../../../../v1.6/en/installation-setup/config/configuration-file.html">v1.6 (Dev)</a>
    <a class="version" href="../../../../v1.5/en/installation-setup/config/configuration-file.html">v1.5 (Latest)</a>
    <a class="version is-current" href="configuration-file.html">v1.4</a>
    <a class="version" href="../../../../v1.3/en/installation-setup/config/configuration-file.html">v1.3</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/rancher/harvester-product-docs/edit/main/versions/v1.4/modules/en/pages/installation-setup/config/configuration-file.adoc"><strong>Edit</strong></a></div>
        <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <label class="visual-search-label-bc" for="search-input">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
          <input label="Search" aria-label="Search" id="search-input" type="text" placeholder="Search the docs" >
          <label class="filter checkbox" style="display: none">
            <input type="checkbox" data-facet-filter="component:virtualization" checked> Only this project
          </label>
        </div>
      </div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="On this page" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Configuration File</h1>
<div class="sect1">
<h2 id="_configuration_example"><a class="anchor" href="#_configuration_example"></a>Configuration Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A configuration file can be provided during manual or automatic installation to configure various settings. The following is a configuration example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">scheme_version: 1
server_url: https://cluster-VIP:443
token: TOKEN_VALUE
os:
  ssh_authorized_keys:
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQAB...
    - github:username
  write_files:
  - encoding: ""
    content: test content
    owner: root
    path: /etc/test.txt
    permissions: '0755'
  hostname: myhost
  modules:
    - kvm
    - nvme
  sysctls:
    kernel.printk: "4 4 1 7"
    kernel.kptr_restrict: "1"
  dns_nameservers:
    - 8.8.8.8
    - 1.1.1.1
  ntp_servers:
    - 0.suse.pool.ntp.org
    - 1.suse.pool.ntp.org
  password: rancher
  environment:
    http_proxy: http://myserver
    https_proxy: http://myserver
  labels:
    topology.kubernetes.io/zone: zone1
    foo: bar
    mylabel: myvalue
install:
  mode: create
  management_interface:
    interfaces:
    - name: ens5
      hwAddr: "B8:CA:3A:6A:64:7C"
    method: dhcp
  force_efi: true
  device: /dev/sda
  data_disk: /dev/sdb
  silent: true
  iso_url: http://myserver/test.iso
  poweroff: true
  no_format: true
  debug: true
  tty: ttyS0
  vip: 10.10.0.19
  vip_hw_addr: 52:54:00:ec:0e:0b
  vip_mode: dhcp
  force_mbr: false
  addons:
    harvester_vm_import_controller:
      enabled: false
      values_content: ""
    harvester_pcidevices_controller:
      enabled: false
      values_content: ""
    rancher_monitoring:
      enabled: true
      values_content: ""
    rancher_logging:
      enabled: false
      values_content: ""
    harvester_seeder:
      enabled: false
      values_content: ""
system_settings:
  auto-disk-provision-paths: ""</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration_reference"><a class="anchor" href="#_configuration_reference"></a>Configuration Reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Below is a reference of all configuration keys.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Security Risks</strong>: The configuration file contains credentials which should be kept secret. Please do not make the configuration file publicly accessible.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Configuration Priority</strong>: When you provide a remote configuration file during installation, the configuration file will not overwrite the values for the inputs you had previously filled out and selected.  Priority is given to the values that you input during the guided install.
For instance, if you have in your configuration file specified <code>os.hostname</code> and during install you fill in the field of <code>hostname</code> when prompted, the value that you filled in will take priority over your configuration file&#8217;s <code>os.hostname</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_scheme_version"><a class="anchor" href="#_scheme_version"></a><code>scheme_version</code></h3>
<div class="sect3">
<h4 id="_definition"><a class="anchor" href="#_definition"></a>Definition</h4>
<div class="paragraph">
<p>The version of scheme reserved for future configuration migration.</p>
</div>
<div class="paragraph">
<p>This configuration is mandatory for migrating the configuration to a new scheme version. It specifies the previous version and the need to migrate.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Make sure that your custom configuration always has the correct scheme version.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_server_url"><a class="anchor" href="#_server_url"></a><code>server_url</code></h3>
<div class="sect3">
<h4 id="_definition_2"><a class="anchor" href="#_definition_2"></a>Definition</h4>
<div class="paragraph">
<p><code>server_url</code> is the URL of the SUSE Virtualization cluster, which is used for the new <code>node</code> to join the cluster.</p>
</div>
<div class="paragraph">
<p>This configuration is mandatory when the installation is in <code>JOIN</code> mode. The default format of <code>server_url</code> is <code>https://cluster-VIP:443</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To ensure a high availability (HA) SUSE Virtualization cluster, use either the cluster &lt;&lt;`install.vip`,VIP&gt;&gt; or a domain name in <code>server_url</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_example"><a class="anchor" href="#_example"></a>Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">server_url: https://cluster-VIP:443
install:
  mode: join</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_token"><a class="anchor" href="#_token"></a><code>token</code></h3>
<div class="sect3">
<h4 id="_definition_3"><a class="anchor" href="#_definition_3"></a>Definition</h4>
<div class="paragraph">
<p>The cluster secret or node token. If the value matches the format of a node token it will
automatically be assumed to be a node token. Otherwise it is treated as a cluster secret.</p>
</div>
<div class="paragraph">
<p>In order for a new node to join the cluster, the token should match what the server has.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_2"><a class="anchor" href="#_example_2"></a>Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">token: myclustersecret</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or a node token</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">token: "K1074ec55daebdf54ef48294b0ddf0ce1c3cb64ee7e3d0b9ec79fbc7baf1f7ddac6::node:77689533d0140c7019416603a05275d4"</code></pre>
</div>
</div>
<hr>
<div class="paragraph">
<p>&nbsp;</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_os_ssh_authorized_keys"><a class="anchor" href="#_os_ssh_authorized_keys"></a><code>os.ssh_authorized_keys</code></h3>
<div class="sect3">
<h4 id="_definition_4"><a class="anchor" href="#_definition_4"></a>Definition</h4>
<div class="paragraph">
<p>A list of SSH authorized keys that should be added to the default user, <code>rancher</code>. SSH keys can be obtained from GitHub user accounts by using the format
<code>github:${USERNAME}</code>. This is done by downloading the keys from <code>https://github.com/${USERNAME}.keys</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_3"><a class="anchor" href="#_example_3"></a>Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">os:
  ssh_authorized_keys:
    - "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC2TBZGjE+J8ag11dzkFT58J3XPONrDVmalCNrKxsfADfyy0eqdZrG8hcAxAR/5zuj90Gin2uBR4Sw6Cn4VHsPZcFpXyQCjK1QDADj+WcuhpXOIOY3AB0LZBly9NI0ll+8lo3QtEaoyRLtrMBhQ6Mooy2M3MTG4JNwU9o3yInuqZWf9PvtW6KxMl+ygg1xZkljhemGZ9k0wSrjqif+8usNbzVlCOVQmZwZA+BZxbdcLNwkg7zWJSXzDIXyqM6iWPGXQDEbWLq3+HR1qKucTCSxjbqoe0FD5xcW7NHIME5XKX84yH92n6yn+rxSsyUfhJWYqJd+i0fKf5UbN6qLrtd/D"
    - "github:ibuildthecloud"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_os_write_files"><a class="anchor" href="#_os_write_files"></a><code>os.write_files</code></h3>
<div class="paragraph">
<p>A list of files to write to disk on boot. The <code>encoding</code> field specifies the content&#8217;s encoding. Valid <code>encoding</code> values are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>""</code>: content data are written in plain text. In this case, the <code>encoding</code> field can be also omitted.</p>
</li>
<li>
<p><code>b64</code>, <code>base64</code>: content data are base64-encoded.</p>
</li>
<li>
<p><code>gz</code>, <code>gzip</code>: content data are gzip-compressed.</p>
</li>
<li>
<p><code>gz+base64</code>, <code>gzip+base64</code>, <code>gz+b64</code>, <code>gzip+b64</code>: content data are gzip-compressed first and then base64-encoded.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">os:
  write_files:
  - encoding: b64
    content: CiMgVGhpcyBmaWxlIGNvbnRyb2xzIHRoZSBzdGF0ZSBvZiBTRUxpbnV4...
    owner: root:root
    path: /etc/connman/main.conf
    permissions: '0644'
  - content: |
      # My new /etc/sysconfig/samba file

      SMDBOPTIONS="-D"
    path: /etc/sysconfig/samba
  - content: !!binary |
      f0VMRgIBAQAAAAAAAAAAAAIAPgABAAAAwARAAAAAAABAAAAAAAAAAJAVAAAAAA
      AEAAHgAdAAYAAAAFAAAAQAAAAAAAAABAAEAAAAAAAEAAQAAAAAAAwAEAAAAAAA
      AAAAAAAAAwAAAAQAAAAAAgAAAAAAAAACQAAAAAAAAAJAAAAAAAAcAAAAAAAAAB
      ...
    path: /bin/arch
    permissions: '0555'
  - content: |
      15 * * * * root ship_logs
    path: /etc/crontab</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_os_persistent_state_paths"><a class="anchor" href="#_os_persistent_state_paths"></a><code>os.persistent_state_paths</code></h3>
<div class="sect3">
<h4 id="_definition_5"><a class="anchor" href="#_definition_5"></a>Definition</h4>
<div class="paragraph">
<p>The <code>os.persistent_state_paths</code> option allows you to configure custom paths where modifications made to files will persist across reboots. Any changes to files in these paths will not be lost after a reboot.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_4"><a class="anchor" href="#_example_4"></a>Example</h4>
<div class="paragraph">
<p>Refer to the following example config for installing <code>rook-ceph</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">os:
  persistent_state_paths:
    - /var/lib/rook
    - /var/lib/ceph
  modules:
    - rbd
    - nbd</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_os_after_install_chroot_commands"><a class="anchor" href="#_os_after_install_chroot_commands"></a><code>os.after_install_chroot_commands</code></h3>
<div class="sect3">
<h4 id="_definition_6"><a class="anchor" href="#_definition_6"></a>Definition</h4>
<div class="paragraph">
<p>You can add additional software packages with <code>after_install_chroot_commands</code>. The <code>after-install-chroot</code> stage, provided by <a href="https://rancher.github.io/elemental-toolkit/docs/">elemental-toolkit</a>, allows you to execute commands not restricted by file system write issues, ensuring the persistence of user-defined commands even after a system reboot.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_5"><a class="anchor" href="#_example_5"></a>Example</h4>
<div class="paragraph">
<p>Refer to the following example config for installing an RPM package in SUSE Virtualization:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">os:
  after_install_chroot_commands:
    - rpm -ivh &lt;the url of rpm package&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>DNS resolution is unavailable in the <code>after-install-chroot stage</code>, and the <code>nameserver</code> might not be available. If you need to access a domain name to install a package using an URL, create a temporary <code>/etc/resolv.conf</code> file first. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">os:
  after_install_chroot_commands:
    - "rm -f /etc/resolv.conf &amp;&amp; echo 'nameserver 8.8.8.8' | sudo tee /etc/resolv.conf"
    - "mkdir /usr/local/bin"
    - "curl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3 &amp;&amp; chmod 700 get_helm.sh &amp;&amp; ./get_helm.sh"
    - "rm -f /etc/resolv.conf &amp;&amp; ln -s /var/run/netconfig/resolv.conf /etc/resolv.conf"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Upgrading SUSE Virtualization causes the changes to the OS in the <code>after-install-chroot</code> stage to be lost. You must also configure the <code>after-upgrade-chroot</code> to make your changes persistent across an upgrade. Refer to <a href="https://rancher.github.io/elemental-toolkit/docs/customizing/runtime_persistent_changes/">Runtime persistent changes</a> before upgrading.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_os_hostname"><a class="anchor" href="#_os_hostname"></a><code>os.hostname</code></h3>
<div class="sect3">
<h4 id="_definition_7"><a class="anchor" href="#_definition_7"></a>Definition</h4>
<div class="paragraph">
<p>Set the system hostname. The installer will generate a random hostname if the user doesn&#8217;t provide a value.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_6"><a class="anchor" href="#_example_6"></a>Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">os:
  hostname: myhostname</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_os_modules"><a class="anchor" href="#_os_modules"></a><code>os.modules</code></h3>
<div class="sect3">
<h4 id="_definition_8"><a class="anchor" href="#_definition_8"></a>Definition</h4>
<div class="paragraph">
<p>A list of kernel modules to be loaded on start.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_7"><a class="anchor" href="#_example_7"></a>Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">os:
  modules:
    - kvm
    - nvme</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_os_sysctls"><a class="anchor" href="#_os_sysctls"></a><code>os.sysctls</code></h3>
<div class="sect3">
<h4 id="_definition_9"><a class="anchor" href="#_definition_9"></a>Definition</h4>
<div class="paragraph">
<p>Kernel sysctl to set up on start. These are the typical configurations found in <code>/etc/sysctl.conf</code>.
Values must be specified as strings.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_8"><a class="anchor" href="#_example_8"></a>Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">os:
  sysctls:
    kernel.printk: 4 4 1 7 # the YAML parser will read as a string
    kernel.kptr_restrict: "1" # force the YAML parser to read as a string</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_os_dns_nameservers"><a class="anchor" href="#_os_dns_nameservers"></a><code>os.dns_nameservers</code></h3>
<div class="sect3">
<h4 id="_definition_10"><a class="anchor" href="#_definition_10"></a>Definition</h4>
<div class="paragraph">
<p><strong>Fallback</strong> DNS name servers to use if DNS is not configured by DHCP or in the OS.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_9"><a class="anchor" href="#_example_9"></a>Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">os:
  dns_nameservers:
    - 8.8.8.8
    - 1.1.1.1</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_os_ntp_servers"><a class="anchor" href="#_os_ntp_servers"></a><code>os.ntp_servers</code></h3>
<div class="sect3">
<h4 id="_definition_11"><a class="anchor" href="#_definition_11"></a>Definition</h4>
<div class="paragraph">
<p><strong>Fallback</strong> ntp servers to use if NTP is not configured elsewhere in the OS. Highly recommend to configure <code>os.ntp_servers</code> to avoid time synchronization issue between machines.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_10"><a class="anchor" href="#_example_10"></a>Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">os:
  ntp_servers:
    - 0.suse.pool.ntp.org
    - 1.suse.pool.ntp.org</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_os_password"><a class="anchor" href="#_os_password"></a><code>os.password</code></h3>
<div class="sect3">
<h4 id="_definition_12"><a class="anchor" href="#_definition_12"></a>Definition</h4>
<div class="paragraph">
<p>The password for the default user, <code>rancher</code>. By default, there is no password for the <code>rancher</code> user.
If you set a password at runtime it will be reset on the next boot. The
value of the password can be clear text or an encrypted form. The easiest way to get this encrypted
form is to change your password on a Linux system and copy the value of the second field from
<code>/etc/shadow</code>. You can also encrypt a password using OpenSSL. For the supported encryption algorithms, refer to the table below.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Algorithm</th>
<th class="tableblock halign-center valign-top">Command</th>
<th class="tableblock halign-center valign-top">Support</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">SHA-512</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>openssl passwd -6</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">SHA-256</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>openssl passwd -5</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">MD5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>openssl passwd -1</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">MD5, Apache variant</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>openssl passwd -apr1</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">AIX-MD5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>openssl passwd -aixmd5</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">No</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_example_11"><a class="anchor" href="#_example_11"></a>Example</h4>
<div class="paragraph">
<p>Encrypted:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">os:
  password: "$6$kZYUnRaTxNdg4W8H$WSEJydGWsNpaRbbbRdTDLJ2hDLbkizxSFGW2RtexlqG6njEATaGQG9ssztjaKDCsaNUPBZ1E1YdsvSLMAi/IO/"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or clear text:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">os:
  password: supersecure</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_os_environment"><a class="anchor" href="#_os_environment"></a><code>os.environment</code></h3>
<div class="sect3">
<h4 id="_definition_13"><a class="anchor" href="#_definition_13"></a>Definition</h4>
<div class="paragraph">
<p>Environment variables to be set on K3s and other processes like the boot process.
Primary use of this field is to set the HTTP proxy.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_12"><a class="anchor" href="#_example_12"></a>Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">os:
  environment:
    http_proxy: http://myserver
    https_proxy: http://myserver</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This example sets the HTTP(S) proxy for <strong>foundational OS components</strong>.
To set up an HTTP(S) proxy for SUSE Virtualization components such as fetching external images and backup to S3 services,
see <a href="../advanced/settings.adoc#http-proxy">Settings/http-proxy</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_os_labels"><a class="anchor" href="#_os_labels"></a><code>os.labels</code></h3>
<div class="sect3">
<h4 id="_definition_14"><a class="anchor" href="#_definition_14"></a>Definition</h4>
<div class="paragraph">
<p>Labels to be added to this Node.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_13"><a class="anchor" href="#_example_13"></a>Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">os:
  labels:
    topology.kubernetes.io/zone: zone1
    foo: bar
    mylabel: myvalue</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_os_sshd_sftp"><a class="anchor" href="#_os_sshd_sftp"></a><code>os.sshd.sftp</code></h3>
<div class="sect3">
<h4 id="_definition_15"><a class="anchor" href="#_definition_15"></a>Definition</h4>
<div class="paragraph">
<p>Subsystem used to configure the OpenSSH Daemon (sshd). SUSE Virtualization currently only supports <code>sftp</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_14"><a class="anchor" href="#_example_14"></a>Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">os:
  sshd:
    sftp: true  #  The SFTP subsystem is enabled.</code></pre>
</div>
</div>
<hr>
<div class="paragraph">
<p>&nbsp;</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_install_addons"><a class="anchor" href="#_install_addons"></a><code>install.addons</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Setting that defines the default add-on status. SUSE Virtualization add-ons are disabled by default.</p>
</div>
<div class="paragraph">
<p><strong>Supported values</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>vm-import-controller</code> (chartName: harvester-vm-import-controller)</p>
</li>
<li>
<p><code>pcidevices-controller</code> (chartName: harvester-pcidevices-controller)</p>
</li>
<li>
<p><code>rancher-monitoring</code></p>
</li>
<li>
<p><code>rancher-logging</code></p>
</li>
<li>
<p><code>harvester-seeder</code> (experimental)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Example</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">install:
  addons:
    rancher_monitoring:
      enabled: true
    rancher_logging:
      enabled: false</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_install_automatic"><a class="anchor" href="#_install_automatic"></a><code>install.automatic</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Setting that forces the installer to skip the interactive steps in the installation process.</p>
</div>
<div class="paragraph">
<p>When enabled, the configuration is either retrieved from the value of <code>harvester.install.config_url</code> or defined individually using kernel parameters.</p>
</div>
</div>
<div class="sect2">
<h3 id="_install_data_disk"><a class="anchor" href="#_install_data_disk"></a><code>install.data_disk</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Default device for storing VM data.</p>
</div>
<div class="paragraph">
<p>When installing via PXE, use <code>/dev/disk/by-id/$id</code> or <code>/dev/disk/by-path/$path</code> to specify the storage device if the server contains multiple physical volumes.</p>
</div>
<div class="paragraph">
<p><strong>Default value</strong>: Storage device configured in the setting <code>install.device</code></p>
</div>
<div class="paragraph">
<p><strong>Example</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">install:
  data_disk: /dev/sdb</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_install_debug"><a class="anchor" href="#_install_debug"></a><code>install.debug</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Setting that enables additional logging and debugging during installation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_install_device"><a class="anchor" href="#_install_device"></a><code>install.device</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Device on which the SUSE Virtualization operating system is installed.</p>
</div>
<div class="paragraph">
<p>When installing via PXE, use <code>/dev/disk/by-id/$id</code> or <code>/dev/disk/by-path/$path</code> to specify the storage device if the server contains multiple physical volumes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_install_force_efi"><a class="anchor" href="#_install_force_efi"></a><code>install.force_efi</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Setting that forces EFI installation even when EFI is not detected.</p>
</div>
<div class="paragraph">
<p><strong>Default value</strong>: <code>false</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_install_force_mbr"><a class="anchor" href="#_install_force_mbr"></a><code>install.force_mbr</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Setting that forces usage of MBR partitioning on BIOS systems.</p>
</div>
<div class="paragraph">
<p>SUSE Virtualization uses GPT partitioning on UEFI and BIOS systems by default. Compatibility issues may require you to use MBR partitioning instead.</p>
</div>
<div class="paragraph">
<p>If you specify the same storage device for both <code>install.device</code> and <code>install.data_disk</code>, SUSE Virtualization creates an additional partition for storing VM data. This additional partition is not created when you force usage of MBR partitioning. Instead, VM data is stored in a partition that stores OS data.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">install:
  force_mbr: true</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_install_harvester_longhorn_default_settings_guaranteedinstancemanagercpu"><a class="anchor" href="#_install_harvester_longhorn_default_settings_guaranteedinstancemanagercpu"></a><code>install.harvester.longhorn.default_settings.guaranteedInstanceManagerCPU</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Percentage of the total allocatable CPU on each node to be reserved for each Longhorn Instance Manager pod.</p>
</div>
<div class="paragraph">
<p>Using the default value is recommended for high system availability. When deploying single-node clusters, you can specify a value less than 12.</p>
</div>
<div class="paragraph">
<p>For more information about how to set the correct value, see <a href="https://documentation.suse.com/cloudnative/storage/1.7/en/longhorn-system/settings.html#_guaranteed_instance_manager_cpu">Guaranteed Instance Manager CPU</a> in the SUSE Storage documentation.</p>
</div>
<div class="paragraph">
<p><strong>Default value</strong>: 12</p>
</div>
<div class="paragraph">
<p><strong>Supported values</strong>: 0 to 12. All other values are considered 12.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  harvester:
    longhorn:
      default_settings:
        guaranteedInstanceManagerCPU: 6</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_install_harvester_storage_class_replica_count"><a class="anchor" href="#_install_harvester_storage_class_replica_count"></a><code>install.harvester.storage_class.replica_count</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Replica count of the default StorageClass <code>harvester-longhorn</code>.</p>
</div>
<div class="paragraph">
<p>Using the default value is recommended for high storage availability. When deploying single-node clusters, you must set the value to 1.</p>
</div>
<div class="paragraph">
<p>For more information, see <a href="https://documentation.suse.com/cloudnative/storage/1.7/en/longhorn-system/settings.html#_default_replica_count">Default Replica Count</a> in the SUSE Storage documentation.</p>
</div>
<div class="paragraph">
<p><strong>Default value</strong>: 3</p>
</div>
<div class="paragraph">
<p><strong>Supported values</strong>: 1 to 3. All other values are considered 3.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">install:
  harvester:
    storage_class:
      replica_count: 1</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_install_iso_url"><a class="anchor" href="#_install_iso_url"></a><code>install.iso_url</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: URL of ISO image to be downloaded and used to install SUSE Virtualization when booting from the kernel or vmlinuz.</p>
</div>
</div>
<div class="sect2">
<h3 id="_install_management_interface"><a class="anchor" href="#_install_management_interface"></a><code>install.management_interface</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Network interfaces for the host machine.</p>
</div>
<div class="paragraph">
<p>SUSE Virtualization uses the <a href="https://www.freedesktop.org/software/systemd/man/systemd.net-naming-scheme.html">systemd net naming scheme</a>. Ensure that the interface name is present on the target machine before installation.</p>
</div>
<div class="paragraph">
<p><strong>Fields</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>method</code>: Method used to assign an IP to the network. Supported values:</p>
<div class="ulist">
<ul>
<li>
<p><code>dhcp</code>: An IP is requested from the DHCP server.</p>
</li>
<li>
<p><code>static</code>: IP and gateway addresses are manually assigned.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>ip</code>: Static IP assigned to the network. This field is required when the value of <code>method</code> is <code>static</code>.</p>
</li>
<li>
<p><code>subnet_mask</code>: Subnet mask of the network. This field is required when the value of <code>method</code> is <code>static</code>.</p>
</li>
<li>
<p><code>gateway</code>: Gateway address assigned to the network. This field is required when the value of <code>method</code> is <code>static</code>.</p>
</li>
<li>
<p><code>interfaces</code>: Array of network interfaces. The installer combines the specified interfaces (slaves) into a single logical bonded interface.</p>
<div class="ulist">
<ul>
<li>
<p><code>interfaces.name</code>: Name of a slave interface.</p>
</li>
<li>
<p><code>interfaces.hwAddr</code>: Hardware MAC address of a slave interface. This field is optional.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>bond_options</code>: Options for <a href="https://www.kernel.org/doc/Documentation/networking/bonding.txt">bonded interfaces</a>. When unspecified, the following options are used:</p>
<div class="ulist">
<ul>
<li>
<p><code>mode</code>: balance-tlb</p>
</li>
<li>
<p><code>miimon</code>: 100</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>mtu</code>: Maximum transmission unit (MTU) for the interface.</p>
</li>
<li>
<p><code>vlan_id</code>: VLAN ID for the interface.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Example</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">install:
  mode: create
  management_interface:
    interfaces:
    - name: ens5
      hwAddr: "B8:CA:3A:6A:64:7D"  # Optional
    method: dhcp
    bond_options:
      mode: balance-tlb
      miimon: 100
    mtu: 1492
    vlan_id: 101</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_install_mode"><a class="anchor" href="#_install_mode"></a><code>install.mode</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Mode of installation.</p>
</div>
<div class="paragraph">
<p><strong>Supported values</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>create</code>: Create a new SUSE Virtualization cluster.</p>
</li>
<li>
<p><code>join</code>: Join an existing SUSE Virtualization cluster. You must specify the <code>server_url</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Example</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">install:
  mode: create</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_install_no_format"><a class="anchor" href="#_install_no_format"></a><code>install.no_format</code></h3>
<div class="paragraph">
<p>Definition: Setting that prevents partitioning and formatting of the installation disk.</p>
</div>
</div>
<div class="sect2">
<h3 id="_install_persistent_partition_size"><a class="anchor" href="#_install_persistent_partition_size"></a><code>install.persistent_partition_size</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Size of the partition COS_PERSISTENT in Gi or Mi.</p>
</div>
<div class="paragraph">
<p>This partition stores data such as system packages and container images. The minimum value is 150 Gi.</p>
</div>
<div class="paragraph">
<p><strong>Default value</strong>: 150 Gi</p>
</div>
<div class="paragraph">
<p><strong>Example</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">install:
  persistent_partition_size: 150Gi</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_install_poweroff"><a class="anchor" href="#_install_poweroff"></a><code>install.poweroff</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Setting that shuts down (instead of rebooting) the server after installation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_install_rawdiskimagepath"><a class="anchor" href="#_install_rawdiskimagepath"></a><code>install.rawdiskimagepath</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Setting that forces the installer to only install the SUSE Virtualization hypervisor (without any configuration). You must enable <code>harvester.install.automatic</code> to use this setting.</p>
</div>
</div>
<div class="sect2">
<h3 id="_install_role"><a class="anchor" href="#_install_role"></a><code>install.role</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Role assigned to a node at the time of installation. When unspecified, the <code>default</code> role is assigned.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>default</code>: Allows a node to function as a management node or a worker node.</p>
</li>
<li>
<p><code>management</code>: Allows a node to be prioritized when SUSE Virtualization promotes nodes to management nodes.</p>
</li>
<li>
<p><code>worker</code>: Restricts a node to being a worker node (never promoted to management node) in a specific cluster.</p>
</li>
<li>
<p><code>witness</code>: Restricts a node to being a witness node (only functions as an etcd node) in a specific cluster.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_install_silent"><a class="anchor" href="#_install_silent"></a><code>install.silent</code></h3>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Definition: Reserved</p>
</div>
</blockquote>
</div>
</div>
<div class="sect2">
<h3 id="_install_skipchecks"><a class="anchor" href="#_install_skipchecks"></a><code>install.skipchecks</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Setting that allows installation to proceed even if minimum requirements for production use are not met</p>
</div>
<div class="paragraph">
<p>The installer automatically checks if the hardware meets the <a href="./requirements/#hardware-requirements">minimum requirements</a> for production use. When performing automated installation via <a href="./pxe-boot-install">PXE Boot</a>, if any of the checks fail, installation is stopped, and warnings are printed to the system console and saved to <code>/var/log/console.log</code> in the installation environment.</p>
</div>
<div class="paragraph">
<p>To override this behavior, set <code>install.skipchecks=true</code>. When set to <code>true</code>, warning messages are still saved to <code>/var/log/console.log</code>, but the installation proceeds even if hardware requirements for production use are not met.</p>
</div>
<div class="paragraph">
<p><strong>Default value</strong>: <code>false</code></p>
</div>
<div class="paragraph">
<p><strong>Example</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">install:
  skipchecks: true</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_install_tty"><a class="anchor" href="#_install_tty"></a><code>install.tty</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: TTY device used for the console.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">install:
  tty: ttyS0,115200n8</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_install_vip"><a class="anchor" href="#_install_vip"></a><code>install.vip</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: VIP of the SUSE Virtualization management endpoint.</p>
</div>
<div class="paragraph">
<p>After installation, you can access the UI at <code><a href="https://&lt;VIP&gt" class="bare">https://&lt;VIP&gt</a>;</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_install_vip_mode"><a class="anchor" href="#_install_vip_mode"></a><code>install.vip_mode</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Mode of assigning the VIP.</p>
</div>
<div class="paragraph">
<p><strong>Supported values</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>dhcp</code>: DHCP requests are sent to obtain the VIP. You must specify the hardware address using the <code>install.vip_hw_addr</code> field.</p>
</li>
<li>
<p><code>static</code>: A static VIP is used.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Example</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">install:
  vip: 192.168.0.100
  vip_mode: static</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_install_vip_hw_addr"><a class="anchor" href="#_install_vip_hw_addr"></a><code>install.vip_hw_addr</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Hardware address corresponding to the VIP.</p>
</div>
<div class="paragraph">
<p>You must configure an on-premises DHCP server to offer the configured VIP. This field is required when the value of <code>install.vip_mode</code> is <code>dhcp</code>. For more information, see <a href="../management-address.html" class="xref page">Management Address</a>.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">install:
  vip: 10.10.0.19
  vip_mode: dhcp
  vip_hw_addr: 52:54:00:ec:0e:0b</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_install_webhooks"><a class="anchor" href="#_install_webhooks"></a><code>install.webhooks</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Webhooks that allow you to receive notifications for certain installer-related events.</p>
</div>
<div class="paragraph">
<p>The installer sends HTTP requests to the specified URL. Multiple requests can be sent for a single event but if one request fails, the remaining requests are not sent.</p>
</div>
<div class="paragraph">
<p><strong>Fields</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>event</code>: Event type that triggers an HTTP action on the webhook.</p>
<div class="ulist">
<ul>
<li>
<p><code>STARTED</code>: The installation has started.</p>
</li>
<li>
<p><code>SUCCEEDED</code>: The installation was completed without errors.</p>
</li>
<li>
<p><code>FAILED</code>: The installation was unsuccessful.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>method</code>: HTTP method</p>
</li>
<li>
<p><code>url</code>: URL to which HTTP requests are sent</p>
</li>
<li>
<p><code>insecure</code>: When set to <code>true</code>, SUSE Virtualization does not verify the server&#8217;s certificate. The default value is <code>false</code>.</p>
</li>
<li>
<p><code>basicAuth</code>: When set to <code>true</code>, the "Basic" HTTP authentication scheme is used.</p>
</li>
<li>
<p><code>headers</code>: When set to <code>true</code>, custom headers are included in the HTTP requests. Headers such as <code>Content-Length</code> are automatically included.</p>
</li>
<li>
<p><code>payload</code>*: When set to <code>true</code>, payload data is sent with the HTTP requests. You may need to set the correct Content-Type header in the <code>headers</code> field to ensure that the server accepts the request.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Example</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">install:
  webhooks:
    - event: SUCCEEDED
      method: GET
      url: http://10.100.0.100/cblr/svc/op/nopxe/system/{{.Hostname}}
    - event: STARTED
      method: GET
      url: https://10.100.0.100/started/{{.Hostname}}
      insecure: true
      basicAuth:
        user: admin
        password: p@assword
    - event: FAILED
      method: POST
      url: http://10.100.0.100/record
      headers:
        Content-Type:
           - 'application/json; charset=utf-8'
      payload: |
        {
          "host": "{{.Hostname}}",
          "device": "hd"
        }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_install_wipedisks"><a class="anchor" href="#_install_wipedisks"></a><code>install.wipedisks</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Setting that clears all disk partitions on the host using the <code>sgdisk</code> command.</p>
</div>
</div>
<div class="sect2">
<h3 id="_install_with_net_images"><a class="anchor" href="#_install_with_net_images"></a><code>install.with-net-images</code></h3>
<div class="paragraph">
<p><strong>Definition</strong>: Setting that determines if images are pulled from the internet after installation.</p>
</div>
<div class="paragraph">
<p>The value of this field is typically derived from the kernel parameter <code>harvester.install.with_net_images</code>. When the value is <code>true</code>, SUSE Virtualization does not preload images packaged in the installation medium, and instead pulls images from the internet when necessary.</p>
</div>
<hr>
<div class="paragraph">
<p>&nbsp;</p>
</div>
</div>
<div class="sect2">
<h3 id="_system_settings"><a class="anchor" href="#_system_settings"></a><code>system_settings</code></h3>
<div class="sect3">
<h4 id="_definition_16"><a class="anchor" href="#_definition_16"></a>Definition</h4>
<div class="paragraph">
<p>You can overwrite the default system settings by configuring <code>system_settings</code>.
See the <a href="settings.html" class="xref page">Settings</a> page for additional information and the list of all the options.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Overwriting system settings only works when SUSE Virtualization is installed in "create" mode.
If you install SUSE Virtualization in "join" mode, this setting is ignored.
Installing in "join" mode will adopt the system settings from the existing system.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_example_15"><a class="anchor" href="#_example_15"></a>Example</h4>
<div class="paragraph">
<p>The example below overwrites <code>containerd-registry</code>, <code>http-proxy</code> and <code>ui-source</code> settings. The values must be a <code>string</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">system_settings:
  containerd-registry: '{"Mirrors": {"docker.io": {"Endpoints": ["https://myregistry.local:5000"]}}, "Configs": {"myregistry.local:5000": {"Auth": {"Username": "testuser", "Password": "testpassword"}, "TLS": {"InsecureSkipVerify": false}}}}'
  http-proxy: '{"httpProxy": "http://my.proxy", "httpsProxy": "https://my.proxy", "noProxy": "some.internal.svc"}'
  ui-source: auto</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../methods/pxe-boot-install.html">PXE Boot Installation</a></span>
  <span class="next"><a href="update-configuration.html">Update the Configuration After Installation</a></span>
</nav>
</article>
  </div>
</main>
</div>
<script src="../../../../../_/js/site.js"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../../_/js/vendor/lunr-languages.js"></script>
<script src="../../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../../.." data-snippet-length="100" data-stylesheet="../../../../../_/css/search.css"></script>
<script async src="../../../../../search-index.js"></script>
<script src="../../../../../_/js/vendor/langSelection.js"></script>
<script async src="../../../../../_/js/vendor/tabs.js"></script>


<script src="../../../../../_/js/CNLanguageSwitcher.js"></script>
  </body>
</html>
