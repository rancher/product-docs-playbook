<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
<title>Create a GitRepo Resource | Continuous Delivery  0.11</title>
    <link rel="canonical" href="https://documentation.suse.com/cloudnative/continuous-delivery/v0.14/en/how-tos-for-users/gitrepo-add.html">
    <link rel="prev" href="../how-tos-for-operators/multi-user.html">
    <link rel="next" href="gitrepo-targets.html">
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../../../../_/css/site.css">
<meta http-equiv="last-modified" content="2025-04-30"/>
<link rel="stylesheet" href="../../../../_/css/search.css">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="../../../../_/css/font-styles.css">
<link rel="stylesheet" href="../../../../_/fonts/css/all.css">
<link rel="stylesheet" href="../../../../_/css/site-extra.css">
<link rel="stylesheet" href="../../../../_/css/vendor/tabs.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=SUSE:wght@100..800&display=swap&family=SUSE+Mono:ital,wght@0,100..800;1,100..800" rel="stylesheet">
<link href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" rel="stylesheet">
<link rel="stylesheet" href="../../../../_/css/vendor/light.css">
<script src="/docserv/res/lightheaded/analytics.js" type="text/javascript"></script>
<script type="module">
  import { defineCustomElements, setAssetPath } from 'https://d12w0ryu9hjsx8.cloudfront.net/shared-header/1.10/shared-header.esm.js';
  defineCustomElements();
  setAssetPath("https://d12w0ryu9hjsx8.cloudfront.net/shared-header/1.10/assets");
</script>
<!-- Default English link -->
<link href="https://documentation.suse.com/cloudnative/continuous-delivery/v0.11/en/how-tos-for-users/gitrepo-add.html" hreflang="x-default" rel="alternate"/>
<!-- Link for the currently processed page -->
<link href="https://documentation.suse.com/cloudnative/continuous-delivery/v0.11/en/how-tos-for-users/gitrepo-add.html" hrefLang="en-US" rel="alternate" />

<!-- JSON-LD for doc metadata -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "TechArticle",
  "name": "Create a GitRepo Resource | SUSE Rancher Prime Continuous Delivery v0.11",
  "headline": "Create a GitRepo Resource",
  "description": "Create a GitRepo Resource",
  "inLanguage": "en",
  "dateModified": "2025-04-30T00:00:00Z",
  "author": {
    "@type": "Organization",
    "name": "SUSE Product & Solution Documentation Team",
    "url": "https://documentation.suse.com"
  },
  "mentions": [
    {
      "@type": "SoftwareApplication",
      "name": "SUSE Rancher Prime Continuous Delivery",
      "softwareVersion": "v0.11",
      "applicationCategory": "Cloud Infrastructure",
      "operatingSystem": "Linux"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "SUSE",
    "url": "https://documentation.suse.com",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
    }
  }
}
</script>
<!-- end JSON-LD for doc metadata -->
    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs'; mermaid.initialize({"startOnLoad":true});</script><shared-header
language="en"
languages='{
    "en": { "label": "English", "url": "https://documentation.suse.com/en-us/" },
    "de": { "label": "Deutsch", "url": "https://documentation.suse.com/de-de/" },
    "fr": { "label": "Français", "url": "https://documentation.suse.com/fr-fr/" },
    "es": { "label": "Español", "url": "https://documentation.suse.com/es-es/" },
    "zh_CN": { "label": "中文", "url": "https://documentation.suse.com/zh-cn/" },
    "pt_BR": { "label": "Português Brasileiro", "url": "https://documentation.suse.com/pt-br/" }
}'
enable-search='false'>
</shared-header>

<!-- Leaving as a comment, I expect it will be required again next year.
<a target=_blank"" class="survey-link" href="https://suselinux.fra1.qualtrics.com/jfe/form/SV_bEiGZbUNzLD8Tcy"> Documentation survey </a>
--><div class="body">
<div class="nav-container" data-component="continuous-delivery" data-version="v0.11">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title">Continuous Delivery</h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../persona.html">Key Personas and Their Roles</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/quickstart.html">Quickstart</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/tut-deployment.html">Creating a Deployment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/uninstall.html">Uninstall</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Explanations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../explanations/architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../explanations/concepts.html">Core Concepts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../explanations/ref-bundle-stages.html">Bundle Lifecycle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../explanations/gitrepo-content.html">Git Repository Contents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../explanations/namespaces.html">Namespaces</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../explanations/resources-during-deployment.html">Custom Resources During Deployment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">How-tos for Operators</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../how-tos-for-operators/installation.html">Installation Details</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../how-tos-for-operators/cluster-registration.html">Register Downstream Clusters</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../how-tos-for-operators/cluster-group.html">Create Cluster Groups</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../how-tos-for-operators/multi-user.html">Setup Multi User</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">How-tos for Users</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="gitrepo-add.html">Create a GitRepo Resource</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="gitrepo-targets.html">Mapping to Downstream Clusters</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bundle-diffs.html">Generating Diffs to Ignore Modified GitRepos</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="webhook.html">Using Webhooks Instead of Polling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="imagescan.html">Using Image Scan to Update Container Image References</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bundle-add.html">Create a Bundle Resource</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">CLI</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/cli/fleet-agent/fleet-agent.html">fleet-agent</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/cli/fleet-agent/fleet-agent_clusterstatus.html">fleet-agent clusterstatus</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/cli/fleet-agent/fleet-agent_register.html">fleet-agent register</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/cli/fleet-cli/fleet.html">fleet</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/cli/fleet-cli/fleet_apply.html">fleet apply</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/cli/fleet-cli/fleet_cleanup.html">fleet cleanup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/cli/fleet-cli/fleet_deploy.html">fleet deploy</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/cli/fleet-cli/fleet_gitcloner.html">fleet gitcloner</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/cli/fleet-cli/fleet_target.html">fleet target</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/cli/fleet-cli/fleet_test.html">fleet test</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/cli/fleet-controller/fleet-controller.html">fleet-controller</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/cli/fleet-controller/fleet-controller_agentmanagement.html">fleet-controller agentmanagement</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/cli/fleet-controller/fleet-controller_cleanup.html">fleet-controller cleanup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/cli/fleet-controller/fleet-controller_gitjob.html">fleet-controller gitjob</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/ref-status-fields.html">Status Fields</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/ref-registration.html">Cluster Registration Internals</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/ref-configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/ref-resources.html">List of Deployed Resources</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/ref-crds.html">Custom Resources Spec</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/ref-fleet-yaml.html">fleet.yaml</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/ref-gitrepo.html">GitRepo Resource</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/ref-bundle.html">Bundle Resource</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../troubleshooting.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Changelog</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../changelogs/v0.11.1.html">v0.11.1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../changelogs/v0.11.2.html">v0.11.2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../changelogs/v0.11.3.html">v0.11.3</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../changelogs/v0.11.4.html">v0.11.4</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../changelogs/v0.11.5.html">v0.11.5</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../changelogs/v0.11.6.html">v0.11.6</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../changelogs/v0.11.7.html">v0.11.7</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../changelogs/v0.11.8.html">v0.11.8</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../changelogs/v0.11.9.html">v0.11.9 </a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../changelogs/v0.11.10.html">v0.11.10</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../changelogs/v0.11.11.html">v0.11.11</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../changelogs/v0.11.12.html">v0.11.12 (latest)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Toggle expand/collapse"></button>
    <span class="nav-text">Experimental Features</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../experimental-features/enableexperimental.html">How to enable experimental features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../experimental-features/oci-storage.html">OCI Storage</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Continuous Delivery</span>
    <span class="version">0.11</span>
  </div>
  <ul class="components">
        <li class="component">
          <div class="title"><a href="../../../../admission-controller/1.31/en/introduction.html">Admission Controller</a></div>
          <ul class="versions">
            <li class="version">
              <a href="../../../../admission-controller/1.32/en/introduction.html">1.32-dev</a>
            </li>
            <li class="version is-latest">
              <a href="../../../../admission-controller/1.31/en/introduction.html">1.31-latest</a>
            </li>
            <li class="version">
              <a href="../../../../admission-controller/1.30/en/introduction.html">1.30</a>
            </li>
            <li class="version">
              <a href="../../../../admission-controller/1.29/en/introduction.html">1.29</a>
            </li>
            <li class="version">
              <a href="../../../../admission-controller/1.28/en/introduction.html">1.28</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../cluster-api/v0.25/en/index.html">Cluster API</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../cluster-api/v0.25/en/index.html">0.25</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.24/en/index.html">0.24</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.23/en/index.html">0.23</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.22/en/index.html">0.22</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.21/en/index.html">0.21</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.20/en/index.html">0.20</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.19/en/index.html">0.19</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.18/en/index.html">0.18</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.17/en/index.html">0.17</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.16/en/index.html">0.16</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.15/en/index.html">0.15</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.14/en/index.html">0.14</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.13/en/index.html">0.13</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.12/en/index.html">0.12</a>
            </li>
            <li class="version">
              <a href="../../../../cluster-api/v0.11/en/index.html">0.11</a>
            </li>
          </ul>
        </li>
        <li class="component is-current">
          <div class="title"><a href="../../../v0.14/en/index.html">Continuous Delivery</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../v0.14/en/index.html">0.14</a>
            </li>
            <li class="version">
              <a href="../../../v0.13/en/index.html">0.13</a>
            </li>
            <li class="version">
              <a href="../../../v0.12/en/index.html">0.12</a>
            </li>
            <li class="version is-current">
              <a href="../index.html">0.11</a>
            </li>
            <li class="version">
              <a href="../../../v0.10/en/index.html">0.10</a>
            </li>
            <li class="version">
              <a href="../../../v0.9/en/index.html">0.9</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../k3s/latest/en/introduction.html">K3s</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../k3s/latest/en/introduction.html">Latest</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../os-manager/1.8/en/index.html">OS Manager</a></div>
          <ul class="versions">
            <li class="version">
              <a href="../../../../os-manager/1.9/en/index.html">1.9-dev</a>
            </li>
            <li class="version is-latest">
              <a href="../../../../os-manager/1.8/en/index.html">1.8</a>
            </li>
            <li class="version">
              <a href="../../../../os-manager/1.7/en/index.html">1.7</a>
            </li>
            <li class="version">
              <a href="../../../../os-manager/1.6/en/index.html">1.6</a>
            </li>
            <li class="version">
              <a href="../../../../os-manager/1.5/en/index.html">1.5</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../rke2/latest/en/introduction.html">RKE2</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../rke2/latest/en/introduction.html">Latest</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../suse-observability/latest/en/classic.html">SUSE Observability</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../suse-observability/latest/en/classic.html">Latest</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../rancher-srfa/latest/en/about-rancher/what-is-rancher.html">SUSE® Rancher for AWS</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../rancher-srfa/latest/en/about-rancher/what-is-rancher.html">Latest</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../rancher-manager/v2.13/en/about-rancher/what-is-rancher.html">SUSE® Rancher Manager</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../rancher-manager/v2.13/en/about-rancher/what-is-rancher.html">v2.13</a>
            </li>
            <li class="version">
              <a href="../../../../rancher-manager/v2.12/en/about-rancher/what-is-rancher.html">v2.12</a>
            </li>
            <li class="version">
              <a href="../../../../rancher-manager/v2.11/en/about-rancher/what-is-rancher.html">v2.11</a>
            </li>
            <li class="version">
              <a href="../../../../rancher-manager/v2.10/en/about-rancher/what-is-rancher.html">v2.10</a>
            </li>
            <li class="version">
              <a href="../../../../rancher-manager/v2.9/en/about-rancher/what-is-rancher.html">v2.9</a>
            </li>
            <li class="version">
              <a href="../../../../rancher-manager/v2.8/en/about-rancher/what-is-rancher.html">v2.8</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../security/5.4/en/overview.html">SUSE® Security</a></div>
          <ul class="versions">
            <li class="version is-latest">
              <a href="../../../../security/5.4/en/overview.html">5.4</a>
            </li>
            <li class="version">
              <a href="../../../../security/5.3/en/overview.html">5.3</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../storage/1.10/en/longhorn-documentation.html">SUSE® Storage</a></div>
          <ul class="versions">
            <li class="version">
              <a href="../../../../storage/1.11/en/longhorn-documentation.html">1.11 (Dev)</a>
            </li>
            <li class="version is-latest">
              <a href="../../../../storage/1.10/en/longhorn-documentation.html">1.10 (Latest)</a>
            </li>
            <li class="version">
              <a href="../../../../storage/1.9/en/longhorn-documentation.html">1.9</a>
            </li>
            <li class="version">
              <a href="../../../../storage/1.8/en/longhorn-documentation.html">1.8</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../suse-virtual-clusters/v1.0.1/en/introduction.html">SUSE® Virtual Clusters</a></div>
          <ul class="versions">
            <li class="version">
              <a href="../../../../suse-virtual-clusters/1.0.2/en/introduction.html">1.0.2-dev</a>
            </li>
            <li class="version is-latest">
              <a href="../../../../suse-virtual-clusters/v1.0.1/en/introduction.html">v1.0.1-latest</a>
            </li>
            <li class="version">
              <a href="../../../../suse-virtual-clusters/v1.0.0/en/introduction.html">v1.0.0</a>
            </li>
          </ul>
        </li>
        <li class="component">
          <div class="title"><a href="../../../../virtualization/v1.6/en/introduction/overview.html">SUSE® Virtualization</a></div>
          <ul class="versions">
            <li class="version">
              <a href="../../../../virtualization/v1.7/en/introduction/overview.html">v1.7 (Dev)</a>
            </li>
            <li class="version is-latest">
              <a href="../../../../virtualization/v1.6/en/introduction/overview.html">v1.6 (Latest)</a>
            </li>
            <li class="version">
              <a href="../../../../virtualization/v1.5/en/introduction/overview.html">v1.5</a>
            </li>
          </ul>
        </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
<ul>
    <li>
      <a class="home-link-dsc" href="https://documentation.suse.com/" title="documentation.suse.com" aria-label="SUSE Documentation Home"></a>
    </li>
    <li>
      <a href="https://documentation.suse.com/cloudnative/continuous-delivery" title="Continuous Delivery" aria-label="SUSE Documentation - Continuous Delivery">
        Continuous Delivery
      </a>
    </li>
      <li>
          How-tos for Users
      </li>
  </ul>
</nav><div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">0.11</button>
  <div class="version-menu">
    <a class="version" href="../../../v0.14/en/how-tos-for-users/gitrepo-add.html">0.14</a>
    <a class="version" href="../../../v0.13/en/how-tos-for-users/gitrepo-add.html">0.13</a>
    <a class="version" href="../../../v0.12/en/how-tos-for-users/gitrepo-add.html">0.12</a>
    <a class="version is-current" href="gitrepo-add.html">0.11</a>
    <a class="version" href="../../../v0.10/en/how-tos-for-users/gitrepo-add.html">0.10</a>
    <a class="version" href="../../../v0.9/en/how-tos-for-users/gitrepo-add.html">0.9</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/rancher/fleet-product-docs/edit/product-docs/versions/v0.11/modules/en/pages/how-tos-for-users/gitrepo-add.adoc"><strong>Edit</strong></a></div>
        <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <label class="visual-search-label-bc" for="search-input">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
          <input label="Search" aria-label="Search" id="search-input" type="text" placeholder="Search the docs" >
          <label class="filter checkbox" style="display: none">
            <input type="checkbox" data-facet-filter="component:continuous-delivery" checked> Only this project
          </label>
        </div>
      </div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="On this page" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Create a GitRepo Resource</h1>
<div class="sect1">
<h2 id="_create_gitrepo_instance"><a class="anchor" href="#_create_gitrepo_instance"></a>Create GitRepo Instance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Git repositories are registered by creating a <code>GitRepo</code> resource in Kubernetes. Refer
to the <a href="../tutorials/tut-deployment.html" class="xref page">creating a deployment tutorial</a> for examples.</p>
</div>
<div class="paragraph">
<p><a href="../explanations/gitrepo-content.html" class="xref page">Git Repository Contents</a> has detail about the content of the Git repository.</p>
</div>
<div class="paragraph">
<p>The available fields of the GitRepo custom resource are documented in the <a href="../reference/ref-gitrepo.html" class="xref page">GitRepo resource reference</a></p>
</div>
<div class="sect2">
<h3 id="_proper_namespace"><a class="anchor" href="#_proper_namespace"></a>Proper Namespace</h3>
<div class="paragraph">
<p>Git repos are added to the SUSE® Rancher Prime Continuous Delivery manager using the <code>GitRepo</code> custom resource type. The <code>GitRepo</code> type is namespaced. By default, Rancher will create two SUSE® Rancher Prime Continuous Delivery workspaces: <strong>fleet-default</strong> and <strong>fleet-local</strong>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>fleet-default</code> will contain all the downstream clusters that are already registered through Rancher.</p>
</li>
<li>
<p><code>fleet-local</code> will contain the local cluster by default.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you are using SUSE® Rancher Prime Continuous Delivery in a <a href="../explanations/concepts.html" class="xref page">single cluster</a> style, the namespace will always be <strong>fleet-local</strong>. Check <a href="../explanations/namespaces.html#_cluster_registration_namespace_fleet_local" class="xref page">cluster registration</a> for more on the <code>fleet-local</code> namespace.</p>
</div>
<div class="paragraph">
<p>For a <a href="../explanations/concepts.html" class="xref page">multi-cluster</a> style, please ensure you use the correct repo that will map to the right target clusters.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_override_workloads_namespace"><a class="anchor" href="#_override_workloads_namespace"></a>Override Workload&#8217;s Namespace</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>targetNamespace</code> field will override any namespace in the bundle. If the deployment contains cluster scoped resources, it will fail.</p>
</div>
<div class="paragraph">
<p>It takes precendence over all other namespace definitions:</p>
</div>
<div class="paragraph">
<p><code>gitRepo.targetNamespace &gt; fleet.yaml namespace &gt; namespace in workload&#8217;s manifest &gt; fleet.yaml defaultNamespace</code></p>
</div>
<div class="paragraph">
<p>Workload namespace definitions can be restricted with <code>allowedTargetNamespaces</code> in the <code>GitRepoRestriction</code> resource.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adding_private_git_repository"><a class="anchor" href="#_adding_private_git_repository"></a>Adding Private Git Repository</h2>
<div class="sectionbody">
<div class="paragraph">
<p>SUSE® Rancher Prime Continuous Delivery supports both http and ssh auth key for private repository. To use this you have to create a secret in the same namespace.</p>
</div>
<div class="paragraph">
<p>For example, to generate a private ssh key</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">ssh-keygen -t rsa -b 4096 -m pem -C "user@email.com"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The private key format has to be in <code>EC PRIVATE KEY</code>, <code>RSA PRIVATE KEY</code> or <code>PRIVATE KEY</code> and should not contain a passphase.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Put your private key into secret, use the namespace the GitRepo is in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">kubectl create secret generic ssh-key -n fleet-default --from-file=ssh-privatekey=/file/to/private/key  --type=kubernetes.io/ssh-auth</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now the <code>clientSecretName</code> must be specified in the repo definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">apiVersion: fleet.cattle.io/v1alpha1
kind: GitRepo
metadata:
  name: sample-ssh
  # This namespace is special and auto-wired to deploy to the local cluster
  namespace: fleet-local
spec:
  # Everything from this repo will be run in this cluster. You trust me right?
  repo: "git@github.com:rancher/fleet-examples"
  # or
  # repo: "ssh://git@github.com/rancher/fleet-examples"
  clientSecretName: ssh-key
  paths:
  - simple</code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Private key with passphrase is not supported.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The key has to be in PEM format.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_known_hosts"><a class="anchor" href="#_known_hosts"></a>Known hosts</h3>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you don&#8217;t add one or more public keys into the secret, any server&#8217;s public key will be trusted and added. (<code>ssh -o stricthostkeychecking=no</code> will be used), unless you install SUSE® Rancher Prime Continuous Delivery with chart value <code>insecureSkipHostKeyChecks</code> set to <code>false</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>SUSE® Rancher Prime Continuous Delivery supports putting <code>known_hosts</code> into ssh secret. Here is an example of how to add it:</p>
</div>
<div class="paragraph">
<p>Fetch the public key hash(take github as an example)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">ssh-keyscan -H github.com</code></pre>
</div>
</div>
<div class="paragraph">
<p>And add it into secret:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">apiVersion: v1
kind: Secret
metadata:
  name: ssh-key
type: kubernetes.io/ssh-auth
stringData:
  ssh-privatekey: &lt;private-key&gt;
  known_hosts: |-
    |1|YJr1VZoi6dM0oE+zkM0do3Z04TQ=|7MclCn1fLROZG+BgR4m1r8TLwWc= ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAq2A7hRGmdnm9tUDbO9IDSwBK6TbQa+PXYPCPy6rbTrTtw7PHkccKrpp0yVhp5HdEIcKr6pLlVDBfOLX9QUsyCOV0wzfjIJNlGEYsdlLJizHhbn2mUjvSAHQqZETYP81eFzLQNnPHt4EVVUh7VfDESU84KezmD5QlWpXLmvU31/yMf+Se8xhHTvKSCZIFImWwoG6mbUoWf9nzpIoaSjB+weqqUUmpaaasXVal72J+UX2B+2RPW3RcT0eOzQgqlJL3RKrTJvdsjE3JEAvGq3lGHSZXy28G3skua2SmVi/w4yCE6gbODqnTWlg7+wC604ydGXA8VJiS5ap43JXiUFFAaQ==</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_http_auth"><a class="anchor" href="#_using_http_auth"></a>Using HTTP Auth</h3>
<div class="paragraph">
<p>Create a secret containing username and password. You can replace the password with a personal access token if necessary. Also see <a href="../troubleshooting.html#_http_secrets_in_github" class="xref page">HTTP secrets in Github</a>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>kubectl create secret generic basic-auth-secret -n fleet-default --type=kubernetes.io/basic-auth --from-literal=username=$user --from-literal=password=$pat</pre>
</div>
</div>
<div class="paragraph">
<p>Just like with SSH, reference the secret in your GitRepo resource via <code>clientSecretName</code>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>spec:
  repo: https://github.com/fleetrepoci/gitjob-private.git
  branch: main
  clientSecretName: basic-auth-secret</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_private_helm_repositories"><a class="anchor" href="#_using_private_helm_repositories"></a>Using Private Helm Repositories</h2>
<div class="sectionbody">
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The credentials will be used unconditionally for all Helm repositories referenced by the gitrepo resource.
Make sure you don&#8217;t leak credentials by mixing public and private repositories. Use <a href="#_use_different_helm_credentials_for_each_path">different helm credentials for each path</a>, or split them into different gitrepos, or use <code>helmRepoURLRegex</code> to limit the scope of credentials to certain servers.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For a private Helm repo, users can reference a secret with the following keys:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>username</code> and <code>password</code> for basic http auth if the Helm HTTP repo is behind basic auth.</p>
</li>
<li>
<p><code>cacerts</code> for custom CA bundle if the Helm repo is using a custom CA.</p>
</li>
<li>
<p><code>ssh-privatekey</code> for ssh private key if repo is using ssh protocol. Private key with passphase is not supported currently.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For example, to add a secret in kubectl, run</p>
</div>
<div class="paragraph">
<p><code>kubectl create secret -n $namespace generic helm --from-literal=username=foo --from-literal=password=bar --from-file=cacerts=/path/to/cacerts --from-file=ssh-privatekey=/path/to/privatekey.pem</code></p>
</div>
<div class="paragraph">
<p>After secret is created, specify the secret to <code>gitRepo.spec.helmSecretName</code>. Make sure secret is created under the same namespace with gitrepo.</p>
</div>
<div class="sect2">
<h3 id="_use_different_helm_credentials_for_each_path"><a class="anchor" href="#_use_different_helm_credentials_for_each_path"></a>Use different helm credentials for each path</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>gitRepo.spec.helmSecretName</code> will be ignored if <code>gitRepo.spec.helmSecretNameForPaths</code> is provided</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Create a file <code>secrets-path.yaml</code> that contains credentials for each path defined in a <code>GitRepo</code>. Credentials will not be used
for paths that are not present in this file.
The path is the actual path to the bundle (ie to a folder containing a <code>fleet.yaml</code> file) within the git repository, which might have more segments than the entry under <code>paths:</code>.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">path-one: # path path-one must exist in the repository
  username: user
  password: pass
path-two: # path path-one must exist in the repository
  username: user2
  password: pass2
  caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCiAgICBNSUlEblRDQ0FvV2dBd0lCQWdJVUNwMHB2SVJTb2c0eHJKN2Q1SUI2ME1ka0k1WXdEUVlKS29aSWh2Y05BUUVMCiAgICBCUUF3WGpFTE1Ba0dBMVVFQmhNQ1FWVXhFekFSQmdOVkJBZ01DbE52YldVdFUzUmhkR1V4SVRBZkJnTlZCQW9NCiAgICBHRWx1ZEdWeWJtVjBJRmRwWkdkcGRITWdVSFI1SUV4MFpERVhNQlVHQTFVRUF3d09jbUZ1WTJobGNpNXRlUzV2CiAgICBjbWN3SGhjTk1qTXdOREkzTVRVd056VXpXaGNOTWpnd05ESTFNVFV3TnpVeldqQmVNUXN3Q1FZRFZRUUdFd0pCCiAgICBWVEVUTUJFR0ExVUVDQXdLVTI5dFpTMVRkR0YwWlRFaE1COEdBMVVFQ2d3WVNXNTBaWEp1WlhRZ1YybGtaMmwwCiAgICBjeUJRZEhrZ1RIUmtNUmN3RlFZRFZRUUREQTV5WVc1amFHVnlMbTE1TG05eVp6Q0NBU0l3RFFZSktvWklodmNOCiAgICBBUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTXBvZE5TMDB6NDc1dnVSc2ZZcTFRYTFHQVl3QU92anV4MERKTHY5CiAgICBrZFhwT091dGdjMU8yWUdqNUlCVGQzVmpISmFJYUg3SDR2Rm84RlBaMG9zcU9YaFg3eUM4STdBS3ZhOEE5VmVmCiAgICBJVXp6Vlo1cCs1elNxRjdtZTlOaUNiL0pVSkZLT0ZsTkF4cjZCcXhoMEIyN1VZTlpjaUIvL1V0L0I2eHJuVE55CiAgICBoRzJiNzk4bjg4bFZqY3EzbEE0djFyM3VzWGYxVG5aS2t2UEN4ZnFHYk5OdTlpTjdFZnZHOWoyekdHcWJvcDRYCiAgICBXY3VSa3N3QkgxZlRNS0ZrbGcrR1VsZkZPMGFzL3phalVOdmdweTlpdVBMZUtqZTVWcDBiMlBLd09qUENpV2d4CiAgICBabDJlVDlNRnJjV0F3NTg3emE5NDBlT1Era2pkdmVvUE5sU2k3eVJMMW96YlRka0NBd0VBQWFOVE1GRXdIUVlECiAgICBWUjBPQkJZRUZEQkNkYjE4M1hsU0tWYzBxNmJSTCt0dVNTV3lNQjhHQTFVZEl3UVlNQmFBRkRCQ2RiMTgzWGxTCiAgICBLVmMwcTZiUkwrdHVTU1d5TUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCCiAgICBBQ1BCVERkZ0dCVDVDRVoxd1pnQmhKdm9GZTk2MUJqVCtMU2RxSlpsSmNRZnlnS0hyNks5ZmZaY1ZlWlBoMVU0CiAgICB3czBuWGNOZiszZGJlTjl4dVBiY0VqUWlQaFJCcnRzalE1T1JiVHdYWEdBdzlYbDZYTkl6YjN4ZDF6RWFzQXZPCiAgICBJMjM2ZHZXQ1A0dWoycWZqR0FkQjJnaXU2b2xHK01CWHlneUZKMElzRENraldLZysyWEdmU3lyci9KZU1vZlFBCiAgICB1VU9wcFVGdERYd0lrUW1VTGNVVUxWcTdtUVNQb0lzVkNNM2hKNVQzczdUSWtHUDZVcGVSSjgzdU9LbURYMkRHCiAgICBwVWVQVHBuVWVLOVMzUEVKTi9XcmJSSVd3WU1OR29qdDRKWitaK1N6VE1aVkh0SlBzaGpjL1hYOWZNU1ZXQmlzCiAgICBQRW5MU256MDQ4OGFUQm5SUFlnVXFsdz0KICAgIC0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0=
  sshPrivateKey: ICAgIC0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQogICAgTUlJRFF6Q0NBaXNDRkgxTm5YUWI5SlV6anNBR3FSc3RCYncwRlFpak1BMEdDU3FHU0liM0RRRUJDd1VBTUY0eAogICAgQ3pBSkJnTlZCQVlUQWtGVk1STXdFUVlEVlFRSURBcFRiMjFsTFZOMFlYUmxNU0V3SHdZRFZRUUtEQmhKYm5SbAogICAgY201bGRDQlhhV1JuYVhSeklGQjBlU0JNZEdReEZ6QVZCZ05WQkFNTURuSmhibU5vWlhJdWJYa3ViM0puTUI0WAogICAgRFRJek1EUXlOekUxTVRBMU5Gb1hEVEkwTURReU5qRTFNVEExTkZvd1hqRUxNQWtHQTFVRUJoTUNRVlV4RXpBUgogICAgQmdOVkJBZ01DbE52YldVdFUzUmhkR1V4SVRBZkJnTlZCQW9NR0VsdWRHVnlibVYwSUZkcFpHZHBkSE1nVUhSNQogICAgSUV4MFpERVhNQlVHQTFVRUF3d09jbUZ1WTJobGNpNXRlUzV2Y21jd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQQogICAgQTRJQkR3QXdnZ0VLQW9JQkFRRGd6UUJJTW8xQVFHNnFtYmozbFlYUTFnZjhYcURTbjdyM2lGcVZZZldDVWZOSwogICAgaGZwampTRGpOMmRWWEV2UXA3R0t3akFHUElFbXR5RmxyUW5rUGtnTGFSaU9jSDdNN0p2c3ZIa0Ewd0g0dzJ2QgogICAgUEp6aVlINWh2MUE2WS9NcFM5bVkvQUVxVm80TUJkdnNZQzc3MFpCbzVBMitIUEtMd1YzMVZyYlhhTytWeUJtNAogICAgSmJhZHlNUk40N3BKRWdPMjJaYVRXL3Y3S1dKdjNydGJTMlZVSkNlU0piWlpsN09ocHhLRTVocStmK0RWaU1mcQogICAgTWx4ODNEV2pVSlVkV3lqVUZYVlk0bEdVaUtrRWVtSlVuSlVyY1ErOXE1SzVaWmhyRjhoRXhKRjhiZTZjemVzeAogICAga1VWN3dKb1RjWkd2bUhYSk1FNmtrQXh4Mmh3bU8wSFcyQWdDdTJZekFnTUJBQUV3RFFZSktvWklodmNOQVFFTAogICAgQlFBRGdnRUJBS1BpTWdXc1dCTnJvRkY2aWpYL2xMM3FxaWc4TjlkR1VPWDIyRVJDU1RTekNONjM0ZTFkZUhsdQogICAgbTc5OU11Q3hvWSsyZWluNlV1cFMvTEV6cnpvU2dDVWllQzQrT3ZralF5eGJpTFR6bW1OWEFnd09TM3RvTHRGWAogICAgbytmWWpSMU9xcHVPS29kMkhiYjliczRWcXdaNHEvMlVKbXE2Q01pYjZKZUE2VFJvK2Rkc0pUM2dDOFhWL1Z1MAogICAgNnkwdjJxdTM0bm1MYjFxOHFTS1RwZXYyQmwzQUJGY3NyS0JvNHFieUM2bnBTbnpZenNYcS90SlFLclplNE4vMgogICAgUXIzd1dxQ0pDVWUrMWVsT3A2b0JVcXNWSnc3aHk3YzRLc1Fna09ERDJkc2NuNEF1NGJhWlY2QmpySm1USVY0aQogICAgeXJ1dk9oZ2lINklGUVdDWmVQM2s0MU5obWRzRTNHQT0KICAgIC0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create the secret</p>
</div>
<div class="listingblock">
<div class="content">
<pre>kubectl create secret generic path-auth-secret -n fleet-default --from-file=secrets-path.yaml</pre>
</div>
</div>
<div class="paragraph">
<p>In the previous example credentials for username <code>user</code> will be used for the path <code>path-one</code> and credentials for username
<code>user2</code> will be used for the path <code>path-two</code>.</p>
</div>
<div class="paragraph">
<p><code>caBundle</code> and <code>sshPrivateKey</code> must be base64 encoded.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">

</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_storing_credentials_in_git"><a class="anchor" href="#_storing_credentials_in_git"></a>Storing Credentials in Git</h3>
<div class="paragraph">
<p>It&#8217;s recommended not to store credentials in Git. Even if the repository is properly protected, the secrets are at risk when cloning, etc.
As a workaround tools like SOPS can be used to encrypt the credentials.</p>
</div>
<div class="paragraph">
<p>Instead it is recommended to reference secrets in the downstream cluster. For manifest-style and kustomize-style bundles this must be done in the manifests, e.g. by <a href="https://kubernetes.io/docs/tasks/inject-data-application/distribute-credentials-secure/#create-a-pod-that-has-access-to-the-secret-data-through-a-volume">mounting the secrets</a> or <a href="https://kubernetes.io/docs/concepts/configuration/secret/#using-secrets-as-environment-variables">referencing them as environment variables</a>.
Helm-style bundles can use <a href="../explanations/gitrepo-content.html#_using_valuesfrom" class="xref page">valuesFrom</a> to read values from a secret in the downstream cluster.</p>
</div>
<div class="paragraph">
<p>When using Kubernetes <a href="https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data/">encryption at rest</a> and storing credentials in Git, it is recommended to configure the upstream cluster to include several SUSE® Rancher Prime Continuous Delivery CRDs in encryption resource list:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">- secrets
- bundles.fleet.cattle.io
- bundledeployments.fleet.cattle.io
- contents.fleet.cattle.io</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_backing_up_and_restoring"><a class="anchor" href="#_backing_up_and_restoring"></a>Backing up and restoring</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When backing up and restoring SUSE® Rancher Prime Continuous Delivery with existing workloads, whether they are GitRepos or HelmOps, a few points must be considered.</p>
</div>
<div class="sect2">
<h3 id="_kubernetes_api_server_availability"><a class="anchor" href="#_kubernetes_api_server_availability"></a>Kubernetes API server availability</h3>
<div class="paragraph">
<p>A Fleet agent running in a downstream cluster monitors a cluster-specific namespace on the upstream cluster.</p>
</div>
<div class="paragraph">
<p>This means that during a restore operation, changes made in the upstream cluster might affect deployments in downstream clusters. These deployments could be updated or deleted based on incomplete state data from the upstream cluster.</p>
</div>
<div class="paragraph">
<p>To prevent this, make the Kubernetes API server temporarily inaccessible to downstream clusters while the restore operation runs on the upstream cluster. Agents should not access the upstream cluster until all resources have been re-created.</p>
</div>
</div>
<div class="sect2">
<h3 id="_pausing"><a class="anchor" href="#_pausing"></a>Pausing</h3>
<div class="paragraph">
<p>A <a href="../reference/ref-gitrepo.html" class="xref page">paused GitRepo</a> leads to paused bundles and bundle deployments. This means:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When deleting a bundle deployment that originates from a paused GitRepo, SUSE® Rancher Prime Continuous Delivery does not re-create the bundle deployment until the GitRepo is unpaused.</p>
</li>
<li>
<p>When deleting a bundle that originates from a paused GitRepo, SUSE® Rancher Prime Continuous Delivery deletes the bundle deployments associated with that bundle and does not re-create them until the GitRepo is unpaused.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Pausing a GitRepo prevents bundles and bundle deployments from being created or updated for that GitRepo. In other words, it only affects <strong>controller</strong> operations, not <strong>Fleet agent</strong> operations.</p>
</div>
<div class="paragraph">
<p>To prevent user resources contained in a bundle from being deleted when a bundle deployment is removed, use <a href="../reference/ref-bundle.html" class="xref page">keepResources</a>.</p>
</div>
<div class="paragraph">
<p><strong>Troubleshooting</strong></p>
</div>
<div class="paragraph">
<p>See SUSE® Rancher Prime Continuous Delivery <a href="../troubleshooting.html" class="xref page">Troubleshooting</a> section.</p>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../how-tos-for-operators/multi-user.html">Setup Multi User</a></span>
  <span class="next"><a href="gitrepo-targets.html">Mapping to Downstream Clusters</a></span>
</nav>
</article>
  </div>
</main>
</div>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../_/js/vendor/lunr-languages.js"></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="100" data-stylesheet="../../../../_/css/search.css"></script>
<script async src="../../../../search-index.js"></script>
<script src="../../../../_/js/vendor/langSelection.js"></script>
<script async src="../../../../_/js/vendor/tabs.js"></script>


<script src="../../../../_/js/CNLanguageSwitcher.js"></script>
  </body>
</html>
